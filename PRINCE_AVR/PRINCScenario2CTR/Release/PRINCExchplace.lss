
AVRASM ver. 2.1.57  K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm Thu Jul 23 17:17:52 2015

[builtin](2): Including file 'C:\Program Files (x86)\Atmel\Atmel Toolchain\AVR Assembler\Native\2.1.1175\avrassembler\Include\tn45def.inc'
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(21): Including file 'C:\Program Files (x86)\Atmel\Atmel Toolchain\AVR Assembler\Native\2.1.1175\avrassembler\Include\tn45def.inc'
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): Including file 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm'
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(40): warning: Register r16 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(41): warning: Register r17 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(42): warning: Register r18 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(43): warning: Register r19 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(44): warning: Register r20 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(45): warning: Register r21 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(49): warning: Register r0 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(50): warning: Register r1 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(51): warning: Register r2 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(52): warning: Register r3 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(53): warning: Register r4 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(54): warning: Register r5 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(55): warning: Register r6 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(56): warning: Register r7 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(62): warning: .def: 'XL' redefinition (r26->r26)
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(62): warning: Register r26 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(63): warning: .def: 'XH' redefinition (r27->r27)
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(63): warning: Register r27 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(64): warning: .def: 'YL' redefinition (r28->r28)
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(64): warning: Register r28 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(65): warning: .def: 'YH' redefinition (r29->r29)
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(65): warning: Register r29 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(66): warning: .def: 'ZL' redefinition (r30->r30)
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(66): warning: Register r30 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(67): warning: .def: 'ZH' redefinition (r31->r31)
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm(67): warning: Register r31 already defined by the .DEF directive
K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\interface.asm(50): 'K:\Seagate\PRINCE\PRINCE_AVR\PRINCExchplace\./PRINCE128xchplaceLessLS.asm' included form here
                 
                 /*
                 
                 ;***** Created: 2011-02-09 12:04 ******* Source: ATtiny45.xml ************
                 ;*************************************************************************
                 ;* A P P L I C A T I O N   N O T E   F O R   T H E   A V R   F A M I L Y
                 ;* 
                 ;* Number            : AVR000
                 ;* File Name         : "tn45def.inc"
                 ;* Title             : Register/Bit Definitions for the ATtiny45
                 ;* Date              : 2011-02-09
                 ;* Version           : 2.35
                 ;* Support E-mail    : avr@atmel.com
                 ;* Target MCU        : ATtiny45
                 ;* 
                 ;* DESCRIPTION
                 ;* When including this file in the assembly program file, all I/O register 
                 ;* names and I/O register bit names appearing in the data book can be used.
                 ;* In addition, the six registers forming the three data pointers X, Y and 
                 ;* Z have been assigned names XL - ZH. Highest RAM address for Internal 
                 ;* SRAM is also defined 
                 ;* 
                 ;* The Register names are represented by their hexadecimal address.
                 ;* 
                 ;* The Register Bit names are represented by their bit number (0-7).
                 ;* 
                 ;* Please observe the difference in using the bit names with instructions
                 ;* such as "sbr"/"cbr" (set/clear bit in register) and "sbrs"/"sbrc"
                 ;* (skip if bit in register set/cleared). The following example illustrates
                 ;* this:
                 ;* 
                 ;* in    r16,PORTB             ;read PORTB latch
                 ;* sbr   r16,(1<<PB6)+(1<<PB5) ;set PB6 and PB5 (use masks, not bit#)
                 ;* out   PORTB,r16             ;output to PORTB
                 ;* 
                 ;* in    r16,TIFR              ;read the Timer Interrupt Flag Register
                 ;* sbrc  r16,TOV0              ;test the overflow flag (use bit#)
                 ;* rjmp  TOV0_is_set           ;jump if set
                 ;* ...                         ;otherwise do something else
                 ;*************************************************************************
                 
                 #ifndef _TN45DEF_INC_
                 #define _TN45DEF_INC_
                 
                 
                 #pragma partinc 0
                 
                 ; ***** SPECIFY DEVICE ***************************************************
                 .device ATtiny45
                 #pragma AVRPART ADMIN PART_NAME ATtiny45
                 .equ	SIGNATURE_000	= 0x1e
                 .equ	SIGNATURE_001	= 0x92
                 .equ	SIGNATURE_002	= 0x06
                 
                 #pragma AVRPART CORE CORE_VERSION V2
                 #pragma AVRPART CORE NEW_INSTRUCTIONS lpm rd,z+
                 
                 
                 ; ***** I/O REGISTER DEFINITIONS *****************************************
                 ; NOTE:
                 ; Definitions marked "MEMORY MAPPED"are extended I/O ports
                 ; and cannot be used with IN/OUT instructions
                 .equ	SREG	= 0x3f
                 .equ	SPL	= 0x3d
                 .equ	SPH	= 0x3e
                 .equ	GIMSK	= 0x3b
                 .equ	GIFR	= 0x3a
                 .equ	TIMSK	= 0x39
                 .equ	TIFR	= 0x38
                 .equ	SPMCSR	= 0x37
                 .equ	MCUCR	= 0x35
                 .equ	MCUSR	= 0x34
                 .equ	TCCR0B	= 0x33
                 .equ	TCNT0	= 0x32
                 .equ	OSCCAL	= 0x31
                 .equ	TCCR1	= 0x30
                 .equ	TCNT1	= 0x2f
                 .equ	OCR1A	= 0x2e
                 .equ	OCR1C	= 0x2d
                 .equ	GTCCR	= 0x2c
                 .equ	OCR1B	= 0x2b
                 .equ	TCCR0A	= 0x2a
                 .equ	OCR0A	= 0x29
                 .equ	OCR0B	= 0x28
                 .equ	PLLCSR	= 0x27
                 .equ	CLKPR	= 0x26
                 .equ	DT1A	= 0x25
                 .equ	DT1B	= 0x24
                 .equ	DTPS	= 0x23
                 .equ	DWDR	= 0x22
                 .equ	WDTCR	= 0x21
                 .equ	PRR	= 0x20
                 .equ	EEARH	= 0x1f
                 .equ	EEARL	= 0x1e
                 .equ	EEDR	= 0x1d
                 .equ	EECR	= 0x1c
                 .equ	PORTB	= 0x18
                 .equ	DDRB	= 0x17
                 .equ	PINB	= 0x16
                 .equ	PCMSK	= 0x15
                 .equ	DIDR0	= 0x14
                 .equ	GPIOR2	= 0x13
                 .equ	GPIOR1	= 0x12
                 .equ	GPIOR0	= 0x11
                 .equ	USIBR	= 0x10
                 .equ	USIDR	= 0x0f
                 .equ	USISR	= 0x0e
                 .equ	USICR	= 0x0d
                 .equ	ACSR	= 0x08
                 .equ	ADMUX	= 0x07
                 .equ	ADCSRA	= 0x06
                 .equ	ADCH	= 0x05
                 .equ	ADCL	= 0x04
                 .equ	ADCSRB	= 0x03
                 
                 
                 ; ***** BIT DEFINITIONS **************************************************
                 
                 ; ***** PORTB ************************
                 ; PORTB - Data Register, Port B
                 .equ	PORTB0	= 0	; 
                 .equ	PB0	= 0	; For compatibility
                 .equ	PORTB1	= 1	; 
                 .equ	PB1	= 1	; For compatibility
                 .equ	PORTB2	= 2	; 
                 .equ	PB2	= 2	; For compatibility
                 .equ	PORTB3	= 3	; 
                 .equ	PB3	= 3	; For compatibility
                 .equ	PORTB4	= 4	; 
                 .equ	PB4	= 4	; For compatibility
                 .equ	PORTB5	= 5	; 
                 .equ	PB5	= 5	; For compatibility
                 
                 ; DDRB - Data Direction Register, Port B
                 .equ	DDB0	= 0	; 
                 .equ	DDB1	= 1	; 
                 .equ	DDB2	= 2	; 
                 .equ	DDB3	= 3	; 
                 .equ	DDB4	= 4	; 
                 .equ	DDB5	= 5	; 
                 
                 ; PINB - Input Pins, Port B
                 .equ	PINB0	= 0	; 
                 .equ	PINB1	= 1	; 
                 .equ	PINB2	= 2	; 
                 .equ	PINB3	= 3	; 
                 .equ	PINB4	= 4	; 
                 .equ	PINB5	= 5	; 
                 
                 
                 ; ***** ANALOG_COMPARATOR ************
                 ; ADCSRB - ADC Control and Status Register B
                 .equ	ACME	= 6	; Analog Comparator Multiplexer Enable
                 
                 ; ACSR - Analog Comparator Control And Status Register
                 .equ	ACIS0	= 0	; Analog Comparator Interrupt Mode Select bit 0
                 .equ	ACIS1	= 1	; Analog Comparator Interrupt Mode Select bit 1
                 .equ	ACIE	= 3	; Analog Comparator Interrupt Enable
                 .equ	ACI	= 4	; Analog Comparator Interrupt Flag
                 .equ	ACO	= 5	; Analog Compare Output
                 .equ	ACBG	= 6	; Analog Comparator Bandgap Select
                 .equ	AINBG	= ACBG	; For compatibility
                 .equ	ACD	= 7	; Analog Comparator Disable
                 
                 ; DIDR0 - 
                 .equ	AIN0D	= 0	; AIN0 Digital Input Disable
                 .equ	AIN1D	= 1	; AIN1 Digital Input Disable
                 
                 
                 ; ***** AD_CONVERTER *****************
                 ; ADMUX - The ADC multiplexer Selection Register
                 .equ	MUX0	= 0	; Analog Channel and Gain Selection Bits
                 .equ	MUX1	= 1	; Analog Channel and Gain Selection Bits
                 .equ	MUX2	= 2	; Analog Channel and Gain Selection Bits
                 .equ	MUX3	= 3	; Analog Channel and Gain Selection Bits
                 .equ	REFS2	= 4	; Reference Selection Bit 2
                 .equ	ADLAR	= 5	; Left Adjust Result
                 .equ	REFS0	= 6	; Reference Selection Bit 0
                 .equ	REFS1	= 7	; Reference Selection Bit 1
                 
                 ; ADCSRA - The ADC Control and Status register
                 .equ	ADPS0	= 0	; ADC  Prescaler Select Bits
                 .equ	ADPS1	= 1	; ADC  Prescaler Select Bits
                 .equ	ADPS2	= 2	; ADC  Prescaler Select Bits
                 .equ	ADIE	= 3	; ADC Interrupt Enable
                 .equ	ADIF	= 4	; ADC Interrupt Flag
                 .equ	ADATE	= 5	; ADC Auto Trigger Enable
                 .equ	ADSC	= 6	; ADC Start Conversion
                 .equ	ADEN	= 7	; ADC Enable
                 
                 ; ADCH - ADC Data Register High Byte
                 .equ	ADCH0	= 0	; ADC Data Register High Byte Bit 0
                 .equ	ADCH1	= 1	; ADC Data Register High Byte Bit 1
                 .equ	ADCH2	= 2	; ADC Data Register High Byte Bit 2
                 .equ	ADCH3	= 3	; ADC Data Register High Byte Bit 3
                 .equ	ADCH4	= 4	; ADC Data Register High Byte Bit 4
                 .equ	ADCH5	= 5	; ADC Data Register High Byte Bit 5
                 .equ	ADCH6	= 6	; ADC Data Register High Byte Bit 6
                 .equ	ADCH7	= 7	; ADC Data Register High Byte Bit 7
                 
                 ; ADCL - ADC Data Register Low Byte
                 .equ	ADCL0	= 0	; ADC Data Register Low Byte Bit 0
                 .equ	ADCL1	= 1	; ADC Data Register Low Byte Bit 1
                 .equ	ADCL2	= 2	; ADC Data Register Low Byte Bit 2
                 .equ	ADCL3	= 3	; ADC Data Register Low Byte Bit 3
                 .equ	ADCL4	= 4	; ADC Data Register Low Byte Bit 4
                 .equ	ADCL5	= 5	; ADC Data Register Low Byte Bit 5
                 .equ	ADCL6	= 6	; ADC Data Register Low Byte Bit 6
                 .equ	ADCL7	= 7	; ADC Data Register Low Byte Bit 7
                 
                 ; ADCSRB - ADC Control and Status Register B
                 .equ	ADTS0	= 0	; ADC Auto Trigger Source 0
                 .equ	ADTS1	= 1	; ADC Auto Trigger Source 1
                 .equ	ADTS2	= 2	; ADC Auto Trigger Source 2
                 .equ	IPR	= 5	; Input Polarity Mode
                 .equ	BIN	= 7	; Bipolar Input Mode
                 
                 ; DIDR0 - Digital Input Disable Register 0
                 .equ	ADC1D	= 2	; ADC1 Digital input Disable
                 .equ	ADC3D	= 3	; ADC3 Digital input Disable
                 .equ	ADC2D	= 4	; ADC2 Digital input Disable
                 .equ	ADC0D	= 5	; ADC0 Digital input Disable
                 
                 
                 ; ***** USI **************************
                 ; USIBR - USI Buffer Register
                 .equ	USIBR0	= 0	; USI Buffer Register bit 0
                 .equ	USIBR1	= 1	; USI Buffer Register bit 1
                 .equ	USIBR2	= 2	; USI Buffer Register bit 2
                 .equ	USIBR3	= 3	; USI Buffer Register bit 3
                 .equ	USIBR4	= 4	; USI Buffer Register bit 4
                 .equ	USIBR5	= 5	; USI Buffer Register bit 5
                 .equ	USIBR6	= 6	; USI Buffer Register bit 6
                 .equ	USIBR7	= 7	; USI Buffer Register bit 7
                 
                 ; USIDR - USI Data Register
                 .equ	USIDR0	= 0	; USI Data Register bit 0
                 .equ	USIDR1	= 1	; USI Data Register bit 1
                 .equ	USIDR2	= 2	; USI Data Register bit 2
                 .equ	USIDR3	= 3	; USI Data Register bit 3
                 .equ	USIDR4	= 4	; USI Data Register bit 4
                 .equ	USIDR5	= 5	; USI Data Register bit 5
                 .equ	USIDR6	= 6	; USI Data Register bit 6
                 .equ	USIDR7	= 7	; USI Data Register bit 7
                 
                 ; USISR - USI Status Register
                 .equ	USICNT0	= 0	; USI Counter Value Bit 0
                 .equ	USICNT1	= 1	; USI Counter Value Bit 1
                 .equ	USICNT2	= 2	; USI Counter Value Bit 2
                 .equ	USICNT3	= 3	; USI Counter Value Bit 3
                 .equ	USIDC	= 4	; Data Output Collision
                 .equ	USIPF	= 5	; Stop Condition Flag
                 .equ	USIOIF	= 6	; Counter Overflow Interrupt Flag
                 .equ	USISIF	= 7	; Start Condition Interrupt Flag
                 
                 ; USICR - USI Control Register
                 .equ	USITC	= 0	; Toggle Clock Port Pin
                 .equ	USICLK	= 1	; Clock Strobe
                 .equ	USICS0	= 2	; USI Clock Source Select Bit 0
                 .equ	USICS1	= 3	; USI Clock Source Select Bit 1
                 .equ	USIWM0	= 4	; USI Wire Mode Bit 0
                 .equ	USIWM1	= 5	; USI Wire Mode Bit 1
                 .equ	USIOIE	= 6	; Counter Overflow Interrupt Enable
                 .equ	USISIE	= 7	; Start Condition Interrupt Enable
                 
                 
                 ; ***** EXTERNAL_INTERRUPT ***********
                 ; MCUCR - MCU Control Register
                 .equ	ISC00	= 0	; Interrupt Sense Control 0 Bit 0
                 .equ	ISC01	= 1	; Interrupt Sense Control 0 Bit 1
                 
                 ; GIMSK - General Interrupt Mask Register
                 .equ	GICR	= GIMSK	; For compatibility
                 .equ	PCIE	= 5	; Pin Change Interrupt Enable
                 .equ	INT0	= 6	; External Interrupt Request 0 Enable
                 
                 ; GIFR - General Interrupt Flag register
                 .equ	PCIF	= 5	; Pin Change Interrupt Flag
                 .equ	INTF0	= 6	; External Interrupt Flag 0
                 
                 ; PCMSK - Pin Change Enable Mask
                 .equ	PCINT0	= 0	; Pin Change Enable Mask Bit 0
                 .equ	PCINT1	= 1	; Pin Change Enable Mask Bit 1
                 .equ	PCINT2	= 2	; Pin Change Enable Mask Bit 2
                 .equ	PCINT3	= 3	; Pin Change Enable Mask Bit 3
                 .equ	PCINT4	= 4	; Pin Change Enable Mask Bit 4
                 .equ	PCINT5	= 5	; Pin Change Enable Mask Bit 5
                 
                 
                 ; ***** EEPROM ***********************
                 ; EEARL - EEPROM Address Register Low Byte
                 .equ	EEAR0	= 0	; EEPROM Read/Write Access Bit 0
                 .equ	EEAR1	= 1	; EEPROM Read/Write Access Bit 1
                 .equ	EEAR2	= 2	; EEPROM Read/Write Access Bit 2
                 .equ	EEAR3	= 3	; EEPROM Read/Write Access Bit 3
                 .equ	EEAR4	= 4	; EEPROM Read/Write Access Bit 4
                 .equ	EEAR5	= 5	; EEPROM Read/Write Access Bit 5
                 .equ	EEAR6	= 6	; EEPROM Read/Write Access Bit 6
                 .equ	EEAR7	= 7	; EEPROM Read/Write Access Bit 7
                 
                 ; EEARH - EEPROM Address Register High Byte
                 .equ	EEAR8	= 0	; EEPROM Read/Write Access Bit 0
                 
                 ; EEDR - EEPROM Data Register
                 .equ	EEDR0	= 0	; EEPROM Data Register bit 0
                 .equ	EEDR1	= 1	; EEPROM Data Register bit 1
                 .equ	EEDR2	= 2	; EEPROM Data Register bit 2
                 .equ	EEDR3	= 3	; EEPROM Data Register bit 3
                 .equ	EEDR4	= 4	; EEPROM Data Register bit 4
                 .equ	EEDR5	= 5	; EEPROM Data Register bit 5
                 .equ	EEDR6	= 6	; EEPROM Data Register bit 6
                 .equ	EEDR7	= 7	; EEPROM Data Register bit 7
                 
                 ; EECR - EEPROM Control Register
                 .equ	EERE	= 0	; EEPROM Read Enable
                 .equ	EEPE	= 1	; EEPROM Write Enable
                 .equ	EEMPE	= 2	; EEPROM Master Write Enable
                 .equ	EERIE	= 3	; EEPROM Ready Interrupt Enable
                 .equ	EEPM0	= 4	; EEPROM Programming Mode Bit 0
                 .equ	EEPM1	= 5	; EEPROM Programming Mode Bit 1
                 
                 
                 ; ***** WATCHDOG *********************
                 ; WDTCR - Watchdog Timer Control Register
                 .equ	WDTCSR	= WDTCR	; For compatibility
                 .equ	WDP0	= 0	; Watch Dog Timer Prescaler bit 0
                 .equ	WDP1	= 1	; Watch Dog Timer Prescaler bit 1
                 .equ	WDP2	= 2	; Watch Dog Timer Prescaler bit 2
                 .equ	WDE	= 3	; Watch Dog Enable
                 .equ	WDCE	= 4	; Watchdog Change Enable
                 .equ	WDTOE	= WDCE	; For compatibility
                 .equ	WDP3	= 5	; Watchdog Timer Prescaler Bit 3
                 .equ	WDIE	= 6	; Watchdog Timeout Interrupt Enable
                 .equ	WDIF	= 7	; Watchdog Timeout Interrupt Flag
                 
                 
                 ; ***** TIMER_COUNTER_0 **************
                 ; TIMSK - Timer/Counter Interrupt Mask Register
                 .equ	TOIE0	= 1	; Timer/Counter0 Overflow Interrupt Enable
                 .equ	OCIE0B	= 3	; Timer/Counter0 Output Compare Match B Interrupt Enable
                 .equ	OCIE0A	= 4	; Timer/Counter0 Output Compare Match A Interrupt Enable
                 
                 ; TIFR - Timer/Counter0 Interrupt Flag register
                 .equ	TOV0	= 1	; Timer/Counter0 Overflow Flag
                 .equ	OCF0B	= 3	; Timer/Counter0 Output Compare Flag 0B
                 .equ	OCF0A	= 4	; Timer/Counter0 Output Compare Flag 0A
                 
                 ; TCCR0A - Timer/Counter  Control Register A
                 .equ	WGM00	= 0	; Waveform Generation Mode
                 .equ	WGM01	= 1	; Waveform Generation Mode
                 .equ	COM0B0	= 4	; Compare Output Mode, Fast PWm
                 .equ	COM0B1	= 5	; Compare Output Mode, Fast PWm
                 .equ	COM0A0	= 6	; Compare Output Mode, Phase Correct PWM Mode
                 .equ	COM0A1	= 7	; Compare Output Mode, Phase Correct PWM Mode
                 
                 ; TCCR0B - Timer/Counter Control Register B
                 .equ	CS00	= 0	; Clock Select
                 .equ	CS01	= 1	; Clock Select
                 .equ	CS02	= 2	; Clock Select
                 .equ	WGM02	= 3	; 
                 .equ	FOC0B	= 6	; Force Output Compare B
                 .equ	FOC0A	= 7	; Force Output Compare A
                 
                 ; TCNT0 - Timer/Counter0
                 .equ	TCNT0_0	= 0	; 
                 .equ	TCNT0_1	= 1	; 
                 .equ	TCNT0_2	= 2	; 
                 .equ	TCNT0_3	= 3	; 
                 .equ	TCNT0_4	= 4	; 
                 .equ	TCNT0_5	= 5	; 
                 .equ	TCNT0_6	= 6	; 
                 .equ	TCNT0_7	= 7	; 
                 
                 ; OCR0A - Timer/Counter0 Output Compare Register
                 .equ	OCR0_0	= 0	; 
                 .equ	OCR0_1	= 1	; 
                 .equ	OCR0_2	= 2	; 
                 .equ	OCR0_3	= 3	; 
                 .equ	OCR0_4	= 4	; 
                 .equ	OCR0_5	= 5	; 
                 .equ	OCR0_6	= 6	; 
                 .equ	OCR0_7	= 7	; 
                 
                 ; OCR0B - Timer/Counter0 Output Compare Register
                 ;.equ	OCR0_0	= 0	; 
                 ;.equ	OCR0_1	= 1	; 
                 ;.equ	OCR0_2	= 2	; 
                 ;.equ	OCR0_3	= 3	; 
                 ;.equ	OCR0_4	= 4	; 
                 ;.equ	OCR0_5	= 5	; 
                 ;.equ	OCR0_6	= 6	; 
                 ;.equ	OCR0_7	= 7	; 
                 
                 ; GTCCR - General Timer/Counter Control Register
                 .equ	PSR0	= 0	; Prescaler Reset Timer/Counter1 and Timer/Counter0
                 .equ	TSM	= 7	; Timer/Counter Synchronization Mode
                 
                 
                 ; ***** TIMER_COUNTER_1 **************
                 ; TCCR1 - Timer/Counter Control Register
                 .equ	CS10	= 0	; Clock Select Bits
                 .equ	CS11	= 1	; Clock Select Bits
                 .equ	CS12	= 2	; Clock Select Bits
                 .equ	CS13	= 3	; Clock Select Bits
                 .equ	COM1A0	= 4	; Compare Output Mode, Bit 1
                 .equ	COM1A1	= 5	; Compare Output Mode, Bit 0
                 .equ	PWM1A	= 6	; Pulse Width Modulator Enable
                 .equ	CTC1	= 7	; Clear Timer/Counter on Compare Match
                 
                 ; TCNT1 - Timer/Counter Register
                 .equ	TCNT1_0	= 0	; Timer/Counter Register Bit 0
                 .equ	TCNT1_1	= 1	; Timer/Counter Register Bit 1
                 .equ	TCNT1_2	= 2	; Timer/Counter Register Bit 2
                 .equ	TCNT1_3	= 3	; Timer/Counter Register Bit 3
                 .equ	TCNT1_4	= 4	; Timer/Counter Register Bit 4
                 .equ	TCNT1_5	= 5	; Timer/Counter Register Bit 5
                 .equ	TCNT1_6	= 6	; Timer/Counter Register Bit 6
                 .equ	TCNT1_7	= 7	; Timer/Counter Register Bit 7
                 
                 ; OCR1A - Output Compare Register
                 .equ	OCR1A0	= 0	; Output Compare Register A Bit 0
                 .equ	OCR1A1	= 1	; Output Compare Register A Bit 1
                 .equ	OCR1A2	= 2	; Output Compare Register A Bit 2
                 .equ	OCR1A3	= 3	; Output Compare Register A Bit 3
                 .equ	OCR1A4	= 4	; Output Compare Register A Bit 4
                 .equ	OCR1A5	= 5	; Output Compare Register A Bit 5
                 .equ	OCR1A6	= 6	; Output Compare Register A Bit 6
                 .equ	OCR1A7	= 7	; Output Compare Register A Bit 7
                 
                 ; OCR1B - Output Compare Register
                 .equ	OCR1B0	= 0	; Output Compare Register B Bit 0
                 .equ	OCR1B1	= 1	; Output Compare Register B Bit 1
                 .equ	OCR1B2	= 2	; Output Compare Register B Bit 2
                 .equ	OCR1B3	= 3	; Output Compare Register B Bit 3
                 .equ	OCR1B4	= 4	; Output Compare Register B Bit 4
                 .equ	OCR1B5	= 5	; Output Compare Register B Bit 5
                 .equ	OCR1B6	= 6	; Output Compare Register B Bit 6
                 .equ	OCR1B7	= 7	; Output Compare Register B Bit 7
                 
                 ; OCR1C - Output compare register
                 .equ	OCR1C0	= 0	; 
                 .equ	OCR1C1	= 1	; 
                 .equ	OCR1C2	= 2	; 
                 .equ	OCR1C3	= 3	; 
                 .equ	OCR1C4	= 4	; 
                 .equ	OCR1C5	= 5	; 
                 .equ	OCR1C6	= 6	; 
                 .equ	OCR1C7	= 7	; 
                 
                 ; TIMSK - Timer/Counter Interrupt Mask Register
                 .equ	TOIE1	= 2	; Timer/Counter1 Overflow Interrupt Enable
                 .equ	OCIE1B	= 5	; OCIE1A: Timer/Counter1 Output Compare B Interrupt Enable
                 .equ	OCIE1A	= 6	; OCIE1A: Timer/Counter1 Output Compare Interrupt Enable
                 
                 ; TIFR - Timer/Counter Interrupt Flag Register
                 .equ	TOV1	= 2	; Timer/Counter1 Overflow Flag
                 .equ	OCF1B	= 5	; Timer/Counter1 Output Compare Flag 1B
                 .equ	OCF1A	= 6	; Timer/Counter1 Output Compare Flag 1A
                 
                 ; GTCCR - Timer counter control register
                 .equ	PSR1	= 1	; Prescaler Reset Timer/Counter1
                 .equ	FOC1A	= 2	; Force Output Compare 1A
                 .equ	FOC1B	= 3	; Force Output Compare Match 1B
                 .equ	COM1B0	= 4	; Comparator B Output Mode
                 .equ	COM1B1	= 5	; Comparator B Output Mode
                 .equ	PWM1B	= 6	; Pulse Width Modulator B Enable
                 
                 ; DTPS - Dead time prescaler register
                 .equ	DTPS0	= 0	; 
                 .equ	DTPS1	= 1	; 
                 
                 ; DT1A - Dead time value register
                 .equ	DTVL0	= 0	; 
                 .equ	DTVL1	= 1	; 
                 .equ	DTVL2	= 2	; 
                 .equ	DTVL3	= 3	; 
                 .equ	DTVH0	= 4	; 
                 .equ	DTVH1	= 5	; 
                 .equ	DTVH2	= 6	; 
                 .equ	DTVH3	= 7	; 
                 
                 ; DT1B - Dead time value B
                 ;.equ	DTVL0	= 0	; 
                 ;.equ	DTVL1	= 1	; 
                 ;.equ	DTVL2	= 2	; 
                 ;.equ	DTVL3	= 3	; 
                 ;.equ	DTVH0	= 4	; 
                 ;.equ	DTVH1	= 5	; 
                 ;.equ	DTVH2	= 6	; 
                 ;.equ	DTVH3	= 7	; 
                 
                 
                 ; ***** CPU **************************
                 ; SREG - Status Register
                 .equ	SREG_C	= 0	; Carry Flag
                 .equ	SREG_Z	= 1	; Zero Flag
                 .equ	SREG_N	= 2	; Negative Flag
                 .equ	SREG_V	= 3	; Two's Complement Overflow Flag
                 .equ	SREG_S	= 4	; Sign Bit
                 .equ	SREG_H	= 5	; Half Carry Flag
                 .equ	SREG_T	= 6	; Bit Copy Storage
                 .equ	SREG_I	= 7	; Global Interrupt Enable
                 
                 ; MCUCR - MCU Control Register
                 ;.equ	ISC00	= 0	; Interrupt Sense Control 0 bit 0
                 ;.equ	ISC01	= 1	; Interrupt Sense Control 0 bit 1
                 .equ	BODSE	= 2	; BOD Sleep Enable
                 .equ	SM0	= 3	; Sleep Mode Select Bit 0
                 .equ	SM1	= 4	; Sleep Mode Select Bit 1
                 .equ	SE	= 5	; Sleep Enable
                 .equ	PUD	= 6	; Pull-up Disable
                 .equ	BODS	= 7	; BOD Sleep
                 
                 ; MCUSR - MCU Status register
                 .equ	PORF	= 0	; Power-On Reset Flag
                 .equ	EXTRF	= 1	; External Reset Flag
                 .equ	BORF	= 2	; Brown-out Reset Flag
                 .equ	WDRF	= 3	; Watchdog Reset Flag
                 
                 ; PRR - Power Reduction Register
                 .equ	PRADC	= 0	; Power Reduction ADC
                 .equ	PRUSI	= 1	; Power Reduction USI
                 .equ	PRTIM0	= 2	; Power Reduction Timer/Counter0
                 .equ	PRTIM1	= 3	; Power Reduction Timer/Counter1
                 
                 ; OSCCAL - Oscillator Calibration Register
                 .equ	CAL0	= 0	; Oscillatro Calibration Value Bit 0
                 .equ	CAL1	= 1	; Oscillatro Calibration Value Bit 1
                 .equ	CAL2	= 2	; Oscillatro Calibration Value Bit 2
                 .equ	CAL3	= 3	; Oscillatro Calibration Value Bit 3
                 .equ	CAL4	= 4	; Oscillatro Calibration Value Bit 4
                 .equ	CAL5	= 5	; Oscillatro Calibration Value Bit 5
                 .equ	CAL6	= 6	; Oscillatro Calibration Value Bit 6
                 .equ	CAL7	= 7	; Oscillatro Calibration Value Bit 7
                 
                 ; PLLCSR - PLL Control and status register
                 .equ	PLOCK	= 0	; PLL Lock detector
                 .equ	PLLE	= 1	; PLL Enable
                 .equ	PCKE	= 2	; PCK Enable
                 .equ	LSM	= 7	; Low speed mode
                 
                 ; CLKPR - Clock Prescale Register
                 .equ	CLKPS0	= 0	; Clock Prescaler Select Bit 0
                 .equ	CLKPS1	= 1	; Clock Prescaler Select Bit 1
                 .equ	CLKPS2	= 2	; Clock Prescaler Select Bit 2
                 .equ	CLKPS3	= 3	; Clock Prescaler Select Bit 3
                 .equ	CLKPCE	= 7	; Clock Prescaler Change Enable
                 
                 ; DWDR - debugWire data register
                 .equ	DWDR0	= 0	; 
                 .equ	DWDR1	= 1	; 
                 .equ	DWDR2	= 2	; 
                 .equ	DWDR3	= 3	; 
                 .equ	DWDR4	= 4	; 
                 .equ	DWDR5	= 5	; 
                 .equ	DWDR6	= 6	; 
                 .equ	DWDR7	= 7	; 
                 
                 ; GPIOR2 - General Purpose IO register 2
                 .equ	GPIOR20	= 0	; 
                 .equ	GPIOR21	= 1	; 
                 .equ	GPIOR22	= 2	; 
                 .equ	GPIOR23	= 3	; 
                 .equ	GPIOR24	= 4	; 
                 .equ	GPIOR25	= 5	; 
                 .equ	GPIOR26	= 6	; 
                 .equ	GPIOR27	= 7	; 
                 
                 ; GPIOR1 - General Purpose register 1
                 .equ	GPIOR10	= 0	; 
                 .equ	GPIOR11	= 1	; 
                 .equ	GPIOR12	= 2	; 
                 .equ	GPIOR13	= 3	; 
                 .equ	GPIOR14	= 4	; 
                 .equ	GPIOR15	= 5	; 
                 .equ	GPIOR16	= 6	; 
                 .equ	GPIOR17	= 7	; 
                 
                 ; GPIOR0 - General purpose register 0
                 .equ	GPIOR00	= 0	; 
                 .equ	GPIOR01	= 1	; 
                 .equ	GPIOR02	= 2	; 
                 .equ	GPIOR03	= 3	; 
                 .equ	GPIOR04	= 4	; 
                 .equ	GPIOR05	= 5	; 
                 .equ	GPIOR06	= 6	; 
                 .equ	GPIOR07	= 7	; 
                 
                 
                 ; ***** BOOT_LOAD ********************
                 ; SPMCSR - Store Program Memory Control Register
                 .equ	SPMEN	= 0	; Store Program Memory Enable
                 .equ	PGERS	= 1	; Page Erase
                 .equ	PGWRT	= 2	; Page Write
                 .equ	RFLB	= 3	; Read fuse and lock bits
                 .equ	CTPB	= 4	; Clear temporary page buffer
                 
                 
                 
                 ; ***** LOCKSBITS ********************************************************
                 .equ	LB1	= 0	; Lockbit
                 .equ	LB2	= 1	; Lockbit
                 
                 
                 ; ***** FUSES ************************************************************
                 ; LOW fuse bits
                 .equ	CKSEL0	= 0	; Select Clock source
                 .equ	CKSEL1	= 1	; Select Clock source
                 .equ	CKSEL2	= 2	; Select Clock source
                 .equ	CKSEL3	= 3	; Select Clock source
                 .equ	SUT0	= 4	; Select start-up time
                 .equ	SUT1	= 5	; Select start-up time
                 .equ	CKOUT	= 6	; Clock Output Enable
                 .equ	CKDIV8	= 7	; Divide clock by 8
                 
                 ; HIGH fuse bits
                 .equ	BODLEVEL0	= 0	; Brown-out Detector trigger level
                 .equ	BODLEVEL1	= 1	; Brown-out Detector trigger level
                 .equ	BODLEVEL2	= 2	; Brown-out Detector trigger level
                 .equ	EESAVE	= 3	; EEPROM memory is preserved through the Chip Erase
                 .equ	WDTON	= 4	; Watchdog Timer always on
                 .equ	SPIEN	= 5	; Enable Serial Program and Data Downloading
                 .equ	DWEN	= 6	; DebugWIRE Enable
                 .equ	RSTDISBL	= 7	; External Reset disable
                 
                 ; EXTENDED fuse bits
                 .equ	SELFPRGEN	= 0	; Self-Programming Enable
                 
                 
                 
                 ; ***** CPU REGISTER DEFINITIONS *****************************************
                 .def	XH	= r27
                 .def	XL	= r26
                 .def	YH	= r29
                 .def	YL	= r28
                 .def	ZH	= r31
                 .def	ZL	= r30
                 
                 
                 
                 ; ***** DATA MEMORY DECLARATIONS *****************************************
                 .equ	FLASHEND	= 0x07ff	; Note: Word address
                 .equ	IOEND	= 0x003f
                 .equ	SRAM_START	= 0x0060
                 .equ	SRAM_SIZE	= 256
                 .equ	RAMEND	= 0x015f
                 .equ	XRAMEND	= 0x0000
                 .equ	E2END	= 0x00ff
                 .equ	EEPROMEND	= 0x00ff
                 .equ	EEADRBITS	= 8
                 #pragma AVRPART MEMORY PROG_FLASH 4096
                 #pragma AVRPART MEMORY EEPROM 256
                 #pragma AVRPART MEMORY INT_SRAM SIZE 256
                 #pragma AVRPART MEMORY INT_SRAM START_ADDR 0x60
                 
                 
                 
                 ; ***** BOOTLOADER DECLARATIONS ******************************************
                 .equ	NRWW_START_ADDR	= 0x0
                 .equ	NRWW_STOP_ADDR	= 0x7ff
                 .equ	RWW_START_ADDR	= 0x0
                 .equ	RWW_STOP_ADDR	= 0x0
                 .equ	PAGESIZE	= 32
                 
                 
                 
                 ; ***** INTERRUPT VECTORS ************************************************
                 .equ	INT0addr	= 0x0001	; External Interrupt 0
                 .equ	PCI0addr	= 0x0002	; Pin change Interrupt Request 0
                 .equ	OC1Aaddr	= 0x0003	; Timer/Counter1 Compare Match 1A
                 .equ	OVF1addr	= 0x0004	; Timer/Counter1 Overflow
                 .equ	OVF0addr	= 0x0005	; Timer/Counter0 Overflow
                 .equ	ERDYaddr	= 0x0006	; EEPROM Ready
                 .equ	ACIaddr	= 0x0007	; Analog comparator
                 .equ	ADCCaddr	= 0x0008	; ADC Conversion ready
                 .equ	OC1Baddr	= 0x0009	; Timer/Counter1 Compare Match B
                 .equ	OC0Aaddr	= 0x000a	; Timer/Counter0 Compare Match A
                 .equ	OC0Baddr	= 0x000b	; Timer/Counter0 Compare Match B
                 .equ	WDTaddr	= 0x000c	; Watchdog Time-out
                 .equ	USI_STARTaddr	= 0x000d	; USI START
                 .equ	USI_OVFaddr	= 0x000e	; USI Overflow
                 
                 .equ	INT_VECTORS_SIZE	= 15	; size in words
                 
                 #endif  /* _TN45DEF_INC_ */
                 
                 ; ***** END OF FILE ******************************************************
                 
                  * interface.asm
                  *
                  *  Created: 2015/4/23 23:35:49
                  *   Author: nevermore
                  */ 
                 
                 
                  /*
                  * interface.asm
                  *
                  *  Created: 2015/4/22 11:35:06
                  *   Author: Zheng Gong
                  */ 
                  ; encrypt_main_tiny45 : generates the plain text and key internally,
                 ; sends a trigger, encrypts and sends a second trigger
                 ; based on http://point-at-infinity.org/avraes/rijndaelfurious.asm.html
                 
                 ; modify the interface by humuchuang because the label "SRAM_DATA" cannot be recognized by the file KLEIN.asm
                 
                 .include "tn45def.inc"
                 
                 ;***** Created: 2011-02-09 12:04 ******* Source: ATtiny45.xml ************
                 ;*************************************************************************
                 ;* A P P L I C A T I O N   N O T E   F O R   T H E   A V R   F A M I L Y
                 ;* 
                 ;* Number            : AVR000
                 ;* File Name         : "tn45def.inc"
                 ;* Title             : Register/Bit Definitions for the ATtiny45
                 ;* Date              : 2011-02-09
                 ;* Version           : 2.35
                 ;* Support E-mail    : avr@atmel.com
                 ;* Target MCU        : ATtiny45
                 ;* 
                 ;* DESCRIPTION
                 ;* When including this file in the assembly program file, all I/O register 
                 ;* names and I/O register bit names appearing in the data book can be used.
                 ;* In addition, the six registers forming the three data pointers X, Y and 
                 ;* Z have been assigned names XL - ZH. Highest RAM address for Internal 
                 ;* SRAM is also defined 
                 ;* 
                 ;* The Register names are represented by their hexadecimal address.
                 ;* 
                 ;* The Register Bit names are represented by their bit number (0-7).
                 ;* 
                 ;* Please observe the difference in using the bit names with instructions
                 ;* such as "sbr"/"cbr" (set/clear bit in register) and "sbrs"/"sbrc"
                 ;* (skip if bit in register set/cleared). The following example illustrates
                 ;* this:
                 ;* 
                 ;* in    r16,PORTB             ;read PORTB latch
                 ;* sbr   r16,(1<<PB6)+(1<<PB5) ;set PB6 and PB5 (use masks, not bit#)
                 ;* out   PORTB,r16             ;output to PORTB
                 ;* 
                 ;* in    r16,TIFR              ;read the Timer Interrupt Flag Register
                 ;* sbrc  r16,TOV0              ;test the overflow flag (use bit#)
                 ;* rjmp  TOV0_is_set           ;jump if set
                 ;* ...                         ;otherwise do something else
                 ;*************************************************************************
                 
                 #ifndef _TN45DEF_INC_
                 #endif  /* _TN45DEF_INC_ */
                 
                 ; ***** END OF FILE ******************************************************
                 
                 ; Define the cipher to include here (#define <cipher>)
                 #define	rectangle;(currently works for aes, desxl, hight, idea, kasumi, katan, klein, mcrypton, noekeon, present, sea, tea)
                 
                 
                 .ORG 0x0000
                 ; global interrupt disable
000000 94f8      	cli
                 ; initialize stack
000001 e0f1      	ldi		r31,HIGH(RAMEND)
000002 bffe      	out		SPH,r31
000003 e5ff      	ldi		r31,LOW(RAMEND)
000004 bffd      	out		SPL,r31
                 
                 ; initialize trigger B1
000005 e003        	ldi		r16, 0b11	; portB,1 = output (triggers)
000006 bb07        	out		DDRB, r16
                 
000007 c57e      	rjmp	main
                 
                 
                 ;******************* INCLUDE FILES *******************************
                 ; include encryption algorithm
                 #ifdef	aes
                 #elif aesfurious
                 #elif rectangle
                     .include "./PRINCE128xchplaceLessLS.asm";"./Rectangle128OnTheFly.asm";"Rectangle80.asm"
                 
                 ; Constants
                 ;
                 .EQU    PTEXT_NUM_BYTE = (8*8)
                 .EQU    PTEXT_NUM_BYTE_SWAP = (8*8)
                 
                 .EQU    KEY0_NUM_BYTE = 8
                 .EQU    KEY1_NUM_BYTE = (8*12)
                 
                 #define KEYSCHEDULE
                 #define ENCRYPT
                 
                 ;#define HalfOneRoundKS
                 
                 ; Registers declarations
                 .def row00 =r0
                 .def row10 =r1
                 .def row20 =r2
                 .def row30 =r3
                 .def row01 =r4
                 .def row11 =r5
                 .def row21 =r6
                 .def row31 =r7
                 .def row02 =r8
                 .def row12 =r9
                 .def row22 =r10
                 .def row32 =r11
                 .def row03 =r12
                 .def row13 =r13
                 .def row23 =r14
                 .def row33 =r15
                 
                 .def t0 =r16
                 .def t1 =r17
                 .def t2 =r18
                 .def t3 =r19
                 .def t4 =r20
                 .def t5 =r21
                 
                 .def k0 =r16
                 .def k1 =r17
                 .def k2 =r18
                 .def k3 =r19
                 .def k4 =r20
                 .def k5 =r21
                 .def k6 =r22
                 .def k7 =r23
                 
                 .def kt0 =r0
                 .def kt1 =r1
                 .def kt2 =r2
                 .def kt3 =r3
                 .def kt4 =r4
                 .def kt5 =r5
                 .def kt6 =r6
                 .def kt7 =r7
                 
                 
                 .def rrn   =r24
                 .def rcnt  =r25
                 
                 .def XL =r26
                 .def XH =r27
                 .def YL =r28
                 .def YH =r29
                 .def ZL =r30
                 .def ZH =r31
                 
                 ;;;****************************************************************************
                 ;;;
                 .MACRO load_column_pre
                 	ldd  row30, Y + 0
                 	ldd  row31, Y + 1
                 	ldd  row32, Y + 2
                 	ldd  row33, Y + 3
                 	
                 	ldd  row20, Y + 4
                 	ldd  row21, Y + 5
                 	ldd  row22, Y + 6
                 	ldd  row23, Y + 7
                 
                 	ldd  row10, Y + 8 
                 	ldd  row11, Y + 9 
                 	ldd  row12, Y + 10
                 	ldd  row13, Y + 11
                 
                 	ldd  row00, Y + 12
                 	ldd  row01, Y + 13
                 	ldd  row02, Y + 14
                 	ldd  row03, Y + 15
                 .ENDMACRO
                 
                 .MACRO store_column_post
                 	std Z+48+0, row30
                 	std Z+48+1, row31
                 	std Z+48+2, row32
                 	std Z+48+3, row33
                 .ENDMACRO
                 
                 .MACRO load_column_forward
                 	ldd  row30, Y + 0
                 	ldd  row31, Y + 1
                 	ldd  row32, Y + 2
                 	ldd  row33, Y + 3
                 	
                 	ldd  row20, Y + 4
                 	ldd  row21, Y + 5
                 	ldd  row22, Y + 6
                 	ldd  row23, Y + 7
                 
                 	ldd  row00, Y + 12
                 	ldd  row01, Y + 13
                 	ldd  row02, Y + 14
                 	ldd  row03, Y + 15
                 .ENDMACRO
                 
                 .MACRO load_column_invert
                 	ldd  row20, Y+32+4
                 	ldd  row21, Y+32+5
                 	ldd  row22, Y+32+6
                 	ldd  row23, Y+32+7
                 
                 	ldd  row10, Y+16+8 
                 	ldd  row11, Y+16+9 
                 	ldd  row12, Y+16+10
                 	ldd  row13, Y+16+11
                 
                 	ldd  row00, Y+ 0+12
                 	ldd  row01, Y+ 0+13
                 	ldd  row02, Y+ 0+14
                 	ldd  row03, Y+ 0+15
                 .ENDMACRO
                 
                 .MACRO load_column
                 	ldd  row30, Y+ @0 + 0
                 	ldd  row31, Y+ @0 + 1
                 	ldd  row32, Y+ @0 + 2
                 	ldd  row33, Y+ @0 + 3
                 	
                 	ldd  row20, Y+ @0 + 4
                 	ldd  row21, Y+ @0 + 5
                 	ldd  row22, Y+ @0 + 6
                 	ldd  row23, Y+ @0 + 7
                 	
                 	ldd  row10, Y+ @0 + 8 
                 	ldd  row11, Y+ @0 + 9 
                 	ldd  row12, Y+ @0 + 10
                 	ldd  row13, Y+ @0 + 11
                 	
                 	ldd  row00, Y+ @0 + 12
                 	ldd  row01, Y+ @0 + 13
                 	ldd  row02, Y+ @0 + 14
                 	ldd  row03, Y+ @0 + 15
                 .ENDMACRO
                 
                 .MACRO store_column
                 	std  Y+ @0 + 15, row03
                 	std  Y+ @0 + 14, row02
                 	std  Y+ @0 + 13, row01
                 	std  Y+ @0 + 12, row00
                 
                 	std  Y+ @0 + 11, row13
                 	std  Y+ @0 + 10, row12
                 	std  Y+ @0 + 9 , row11
                 	std  Y+ @0 + 8 , row10
                 
                 	std  Y+ @0 + 7 , row23
                 	std  Y+ @0 + 6 , row22
                 	std  Y+ @0 + 5 , row21
                 	std  Y+ @0 + 4 , row20
                 
                 	std  Y+ @0 + 3 , row33
                 	std  Y+ @0 + 2 , row32
                 	std  Y+ @0 + 1 , row31
                 	std  Y+ @0 + 0 , row30
                 .ENDMACRO
                 
                 .MACRO store_column_midpost
                 	std  Y+ 48 + 15, row03
                 	std  Y+ 48 + 14, row02
                 	std  Y+ 48 + 13, row01
                 	std  Y+ 48 + 12, row00
                 
                 	std  Y+ 48 + 11, row13
                 	std  Y+ 48 + 10, row12
                 	std  Y+ 48 + 9 , row11
                 	std  Y+ 48 + 8 , row10
                 
                 	std  Y+ 48 + 7 , row23
                 	std  Y+ 48 + 6 , row22
                 	std  Y+ 48 + 5 , row21
                 	std  Y+ 48 + 4 , row20
                 .ENDMACRO
                 
                 .MACRO key_rc
                 	lpm kt0, Z+				; 1 ins, 3 clocks
                 	ld  k0, Y
                 	eor k0, kt0
                 	st  Y+, k0
                 .ENDMACRO
                 
                 #ifdef HalfOneRoundKS
                 #else
                 key_rc_oneRound:
000008 9005
000009 8108
00000a 2500
00000b 9309      	key_rc
00000c 9005
00000d 8108
00000e 2500
00000f 9309      	key_rc
000010 9005
000011 8108
000012 2500
000013 9309      	key_rc
000014 9005
000015 8108
000016 2500
000017 9309      	key_rc
000018 9005
000019 8108
00001a 2500
00001b 9309      	key_rc
00001c 9005
00001d 8108
00001e 2500
00001f 9309      	key_rc
000020 9005
000021 8108
000022 2500
000023 9309      	key_rc
000024 9005
000025 8108
000026 2500
000027 9309      	key_rc
000028 9508      ret
                 #endif
                 
                 
                 .MACRO key_01
                 	ld  kt0, Z+
                 	ld  k0, Y
                 	eor k0, kt0
                 	st  Y+, k0
                 .ENDMACRO
                 
                 .MACRO key_01_Pre
                 	key_01
                 	key_01
                 	key_01
                 	key_01
                 	key_01
                 	key_01
                 	key_01
                 	key_01
                 .ENDMACRO
                 
                 
                 .MACRO key_rc_01
                 	ld  kt0, Y
                 	eor @0, kt0
                 	ld  kt0, Z+
                 	eor @0, kt0
                 	st  Y+, @0
                 .ENDMACRO
                 
                 .MACRO key_rc_01_Post
                 	ldi XH, high(SRAM_KTEXT0)
                 	ldi XL, low(SRAM_KTEXT0)
                 
                 	ld  k0, X+
                 	ld  k1, X+
                 	ld  k2, X+
                 	ld  k3, X+
                 	ld  k4, X+
                 	ld  k5, X+
                 	ld  k6, X+
                 	ld  k7, X+
                 
                 	bst k0, 0
                 	ror k7
                 	ror k6
                 	ror k5
                 	ror k4
                 	ror k3
                 	ror k2
                 	ror k1
                 	ror k0
                 	bld k7, 7
                 
                 	eor k1, k1
                 	bst k7, 6
                 	bld k1, 0
                 	eor k0, k1
                 
                 	key_rc_01 k0
                 	key_rc_01 k1
                 	key_rc_01 k2
                 	key_rc_01 k3
                 	key_rc_01 k4
                 	key_rc_01 k5
                 	key_rc_01 k6
                 	key_rc_01 k7
                 .ENDMACRO
                 
                 keySchedule:
000029 e0f0      	ldi ZH, high(SRAM_KTEXT0)
00002a eee0      	ldi ZL, low(SRAM_KTEXT0)
00002b e0d0      	ldi YH, high(SRAM_KTEXT1)
00002c eec8      	ldi YL, low(SRAM_KTEXT1)
00002d 9001
00002e 8108
00002f 2500
000030 9309
000031 9001
000032 8108
000033 2500
000034 9309
000035 9001
000036 8108
000037 2500
000038 9309
000039 9001
00003a 8108
00003b 2500
00003c 9309
00003d 9001
00003e 8108
00003f 2500
000040 9309
000041 9001
000042 8108
000043 2500
000044 9309
000045 9001
000046 8108
000047 2500
000048 9309
000049 9001
00004a 8108
00004b 2500
00004c 9309      	key_01_Pre
00004d e0fa      	ldi ZH, high(RC<<1)
00004e e3e6      	ldi ZL, low(RC<<1)
                 #ifdef HalfOneRoundKS
                 #else
00004f dfb8      	rcall key_rc_oneRound ; 1
000050 dfb7      	rcall key_rc_oneRound ; 2
000051 dfb6      	rcall key_rc_oneRound ; 3
000052 dfb5      	rcall key_rc_oneRound ; 4
000053 dfb4      	rcall key_rc_oneRound ; 5
000054 dfb3      	rcall key_rc_oneRound ; 6
000055 dfb2      	rcall key_rc_oneRound ; 7
000056 dfb1      	rcall key_rc_oneRound ; 8
000057 dfb0      	rcall key_rc_oneRound ; 9
000058 dfaf      	rcall key_rc_oneRound ; 10
                 #endif
000059 e0b0
00005a eea0
00005b 910d
00005c 911d
00005d 912d
00005e 913d
00005f 914d
000060 915d
000061 916d
000062 917d
000063 fb00
000064 9577
000065 9567
000066 9557
000067 9547
000068 9537
000069 9527
00006a 9517
00006b 9507
00006c f977
00006d 2711
00006e fb76
00006f f910
000070 2701
000071 8008
000072 2500
000073 9001
000074 2500
000075 9309
000076 8008
000077 2510
000078 9001
000079 2510
00007a 9319
00007b 8008
00007c 2520
00007d 9001
00007e 2520
00007f 9329
000080 8008
000081 2530
000082 9001
000083 2530
000084 9339
000085 8008
000086 2540
000087 9001
000088 2540
000089 9349
00008a 8008
00008b 2550
00008c 9001
00008d 2550
00008e 9359
00008f 8008
000090 2560
000091 9001
000092 2560
000093 9369
000094 8008
000095 2570
000096 9001
000097 2570
000098 9379      	key_rc_01_Post  ; 11
000099 9508      ret
                 
                 .MACRO columnXor
                 	sbrc @0, 0
                 	com row30
                 	sbrc @0, 1
                 	com row31
                 	sbrc @0, 2
                 	com row32
                 	sbrc @0, 3
                 	com row33
                 	
                 	sbrc @0, 4
                 	com row20
                 	sbrc @0, 5
                 	com row21
                 	sbrc @0, 6
                 	com row22
                 	sbrc @0, 7
                 	com row23
                 	
                 	sbrc @1, 0
                 	com row10
                 	sbrc @1, 1
                 	com row11
                 	sbrc @1, 2
                 	com row12
                 	sbrc @1, 3
                 	com row13
                 	
                 	sbrc @1, 4
                 	com row00
                 	sbrc @1, 5
                 	com row01
                 	sbrc @1, 6
                 	com row02
                 	sbrc @1, 7
                 	com row03
                 .ENDMACRO
                 
                 
                 .MACRO Sbox
                 	; a = row10:row00
                 	; b = row11:row01
                 	; c = row12:row02
                 	; d = row13:row03
                 	movw t0, row00
                 	movw t2, row01
                 	movw t4, row02
                 	eor  row00, row02
                 	eor  row10, row12
                 	com  t2
                 	com  t3
                 	or   row02, t2
                 	or   row12, t3
                 	movw t2, row03
                 	eor  t2, row02
                 	eor  t3, row12
                 	or  row03, row01
                 	or  row13, row11
                 	and row03, t0
                 	and row13, t1
                 	or  row01, t2
                 	or  row11, t3
                 	eor t2, t0
                 	eor t3, t1
                 	and t0, t4
                 	and t1, t5
                 	eor t4, row01
                 	eor t5, row11
                 	eor t2, row03
                 	eor t3, row13
                 	or  row03, row00
                 	or  row13, row10
                 	eor row00, t4
                 	eor row10, t5
                 	or  row02, t2
                 	or  row12, t3
                 	eor row01, row02
                 	eor row11, row03
                 	and row01, t0
                 	and row11, t1
                 
                 	; a = row30:row20
                 	; b = row31:row21
                 	; c = row32:row22
                 	; d = row33:row23
                 	movw t0, row20
                 	movw t2, row21
                 	movw t4, row22
                 	eor  row20, row22
                 	eor  row30, row32
                 	com  t2
                 	com  t3
                 	or   row22, t2
                 	or   row32, t3
                 	movw t2, row23
                 	eor  t2, row22
                 	eor  t3, row32
                 	or  row23, row21
                 	or  row33, row31
                 	and row23, t0
                 	and row33, t1
                 	or  row21, t2
                 	or  row31, t3
                 	eor t2, t0
                 	eor t3, t1
                 	and t0, t4
                 	and t1, t5
                 	eor t4, row21
                 	eor t5, row31
                 	eor t2, row23
                 	eor t3, row33
                 	or  row23, row20
                 	or  row33, row30
                 	eor row20, t4
                 	eor row30, t5
                 	or  row22, t2
                 	or  row32, t3
                 	eor row21, row22
                 	eor row31, row23
                 	and row21, t0
                 	and row31, t1
                 .ENDMACRO
                 
                 .MACRO iSbox
                 	; a = row10:row00
                 	; b = row11:row01
                 	; c = row12:row02
                 	; d = row13:row03
                 	movw t0, row00
                 	and  row00, row01
                 	and  row10, row11
                 	or   row00, row03
                 	or   row10, row13
                 	eor  row00, row02
                 	eor  row10, row12
                 	movw t2, row00
                 	com  row00
                 	com  row10
                 	or   t2, row01
                 	or   t3, row11
                 	eor  t2, row03
                 	eor  t3, row13
                 	or   row03, row00
                 	or   row13, row10
                 	movw t4, t2
                 	or   t2, t0
                 	or   t3, t1
                 	eor  t0, row03
                 	eor  t1, row13
                 	eor  row01, t2
                 	eor  row11, t3
                 	movw row02, row01
                 	eor  row01, t0
                 	eor  row11, t1
                 	movw row03, row01
                 	or   row03, row00
                 	or   row13, row10
                 	and  t0, row03
                 	and  t1, row13
                 	eor  t0, t4
                 	eor  t1, t5
                 	movw row03, t0
                 	and  t0, row02
                 	and  t1, row12
                 	eor  row00, t0
                 	eor  row10, t1
                 
                 	; a = row30:row20
                 	; b = row31:row21
                 	; c = row32:row22
                 	; d = row33:row23
                 	movw t0, row20
                 	and  row20, row21
                 	and  row30, row31
                 	or   row20, row23
                 	or   row30, row33
                 	eor  row20, row22
                 	eor  row30, row32
                 	movw t2, row20
                 	com  row20
                 	com  row30
                 	or   t2, row21
                 	or   t3, row31
                 	eor  t2, row23
                 	eor  t3, row33
                 	or   row23, row20
                 	or   row33, row30
                 	movw t4, t2
                 	or   t2, t0
                 	or   t3, t1
                 	eor  t0, row23
                 	eor  t1, row33
                 	eor  row21, t2
                 	eor  row31, t3
                 	movw row22, row21
                 	eor  row21, t0
                 	eor  row31, t1
                 	movw row23, row21
                 	or   row23, row20
                 	or   row33, row30
                 	and  t0, row23
                 	and  t1, row33
                 	eor  t0, t4
                 	eor  t1, t5
                 	movw row23, t0
                 	and  t0, row22
                 	and  t1, row32
                 	eor  row20, t0
                 	eor  row30, t1
                 .ENDMACRO
                 
                 ;;;****************************************************************************
                 ;;; M_XOR
                 .MACRO M0_XOR
                 	;mov t0, row00
                 	;eor t0, row10
                 	;eor t0, row20
                 	;eor t0, row30
                 	;eor row00, t0
                 	;eor row10, t0
                 	;eor row20, t0
                 	;eor row30, t0
                 	;
                 	;mov t0, row01
                 	;eor t0, row11
                 	;eor t0, row21
                 	;eor t0, row31
                 	;eor row01, t0
                 	;eor row11, t0
                 	;eor row21, t0
                 	;eor row31, t0
                 	;
                 	;mov t0, row02
                 	;eor t0, row12
                 	;eor t0, row22
                 	;eor t0, row32
                 	;eor row02, t0
                 	;eor row12, t0
                 	;eor row22, t0
                 	;eor row32, t0
                 	;
                 	;mov t0, row03
                 	;eor t0, row13
                 	;eor t0, row23
                 	;eor t0, row33
                 	;eor row03, t0
                 	;eor row13, t0
                 	;eor row23, t0
                 	;eor row33, t0
                 
                 	movw t0, row00
                 	movw t2, row20
                 	eor  row00, row10
                 	eor  row00, row20
                 	eor  row00, row30
                 	mov  row10, row00
                 	movw row20, row00
                 	eor  row00, t3
                 	eor  row10, t2
                 	eor  row20, t1
                 	eor  row30, t0
                 
                 	movw t0, row01
                 	movw t2, row21
                 	eor  row01, row11
                 	eor  row01, row21
                 	eor  row01, row31
                 	mov  row11, row01
                 	movw row21, row01
                 	eor  row01, t0
                 	eor  row11, t3
                 	eor  row21, t2
                 	eor  row31, t1
                 
                 	movw t0, row02
                 	movw t2, row22
                 	eor  row02, row12
                 	eor  row02, row22
                 	eor  row02, row32     
                 	mov  row12, row02
                 	movw row22, row02
                 	eor  row02, t1
                 	eor  row12, t0
                 	eor  row22, t3
                 	eor  row32, t2
                 
                 	movw t0, row03
                 	movw t2, row23
                 	eor  row03, row13
                 	eor  row03, row23
                 	eor  row03, row33
                 	mov  row13, row03
                 	movw row23, row03
                 	eor  row03, t2
                 	eor  row13, t1
                 	eor  row23, t0
                 	eor  row33, t3
                 .ENDMACRO
                 
                 .MACRO M1_XOR
                 	movw t0, row00
                 	movw t2, row20
                 	eor  row00, row10
                 	eor  row00, row20
                 	eor  row00, row30
                 	mov  row10, row00
                 	movw row20, row00
                 	eor  row00, t0
                 	eor  row10, t3
                 	eor  row20, t2
                 	eor  row30, t1
                 
                 	movw t0, row01
                 	movw t2, row21
                 	eor  row01, row11
                 	eor  row01, row21
                 	eor  row01, row31
                 	mov  row11, row01
                 	movw row21, row01
                 	eor  row01, t1
                 	eor  row11, t0
                 	eor  row21, t3
                 	eor  row31, t2
                 
                 	movw t0, row02
                 	movw t2, row22
                 	eor  row02, row12
                 	eor  row02, row22
                 	eor  row02, row32
                 	mov  row12, row02
                 	movw row22, row02
                 	eor  row02, t2
                 	eor  row12, t1
                 	eor  row22, t0
                 	eor  row32, t3
                 
                 	movw t0, row03
                 	movw t2, row23
                 	eor  row03, row13
                 	eor  row03, row23
                 	eor  row03, row33
                 	mov  row13, row03
                 	movw row23, row03
                 	eor  row03, t3
                 	eor  row13, t2
                 	eor  row23, t1
                 	eor  row33, t0
                 .ENDMACRO
                 
                 .MACRO KeyXor
                 	ld  k0, X+
                 	ld  k1, X+
                 	columnXor k0, k1
                 .ENDMACRO
                 
                 KeyXor_Sbox:
00009a 910d
00009b 911d
00009c fd00
00009d 9430
00009e fd01
00009f 9470
0000a0 fd02
0000a1 94b0
0000a2 fd03
0000a3 94f0
0000a4 fd04
0000a5 9420
0000a6 fd05
0000a7 9460
0000a8 fd06
0000a9 94a0
0000aa fd07
0000ab 94e0
0000ac fd10
0000ad 9410
0000ae fd11
0000af 9450
0000b0 fd12
0000b1 9490
0000b2 fd13
0000b3 94d0
0000b4 fd14
0000b5 9400
0000b6 fd15
0000b7 9440
0000b8 fd16
0000b9 9480
0000ba fd17
0000bb 94c0      	KeyXor
0000bc 0180
0000bd 0192
0000be 01a4
0000bf 2408
0000c0 2419
0000c1 9520
0000c2 9530
0000c3 2a82
0000c4 2a93
0000c5 0196
0000c6 2528
0000c7 2539
0000c8 28c4
0000c9 28d5
0000ca 22c0
0000cb 22d1
0000cc 2a42
0000cd 2a53
0000ce 2720
0000cf 2731
0000d0 2304
0000d1 2315
0000d2 2544
0000d3 2555
0000d4 252c
0000d5 253d
0000d6 28c0
0000d7 28d1
0000d8 2604
0000d9 2615
0000da 2a82
0000db 2a93
0000dc 2448
0000dd 245c
0000de 2240
0000df 2251
0000e0 0181
0000e1 0193
0000e2 01a5
0000e3 242a
0000e4 243b
0000e5 9520
0000e6 9530
0000e7 2aa2
0000e8 2ab3
0000e9 0197
0000ea 252a
0000eb 253b
0000ec 28e6
0000ed 28f7
0000ee 22e0
0000ef 22f1
0000f0 2a62
0000f1 2a73
0000f2 2720
0000f3 2731
0000f4 2304
0000f5 2315
0000f6 2546
0000f7 2557
0000f8 252e
0000f9 253f
0000fa 28e2
0000fb 28f3
0000fc 2624
0000fd 2635
0000fe 2aa2
0000ff 2ab3
000100 246a
000101 247e
000102 2260
000103 2271      	Sbox
000104 9508      ret
                 
                 iSbox_KeyXor:
000105 0180
000106 2004
000107 2015
000108 280c
000109 281d
00010a 2408
00010b 2419
00010c 0190
00010d 9400
00010e 9410
00010f 2924
000110 2935
000111 252c
000112 253d
000113 28c0
000114 28d1
000115 01a9
000116 2b20
000117 2b31
000118 250c
000119 251d
00011a 2642
00011b 2653
00011c 0142
00011d 2640
00011e 2651
00011f 0162
000120 28c0
000121 28d1
000122 210c
000123 211d
000124 2704
000125 2715
000126 0168
000127 2108
000128 2119
000129 2600
00012a 2611
00012b 0181
00012c 2026
00012d 2037
00012e 282e
00012f 283f
000130 242a
000131 243b
000132 0191
000133 9420
000134 9430
000135 2926
000136 2937
000137 252e
000138 253f
000139 28e2
00013a 28f3
00013b 01a9
00013c 2b20
00013d 2b31
00013e 250e
00013f 251f
000140 2662
000141 2673
000142 0153
000143 2660
000144 2671
000145 0173
000146 28e2
000147 28f3
000148 210e
000149 211f
00014a 2704
00014b 2715
00014c 0178
00014d 210a
00014e 211b
00014f 2620
000150 2631      	iSbox
000151 910d
000152 911d
000153 fd00
000154 9430
000155 fd01
000156 9470
000157 fd02
000158 94b0
000159 fd03
00015a 94f0
00015b fd04
00015c 9420
00015d fd05
00015e 9460
00015f fd06
000160 94a0
000161 fd07
000162 94e0
000163 fd10
000164 9410
000165 fd11
000166 9450
000167 fd12
000168 9490
000169 fd13
00016a 94d0
00016b fd14
00016c 9400
00016d fd15
00016e 9440
00016f fd16
000170 9480
000171 fd17
000172 94c0      	KeyXor
000173 9508      ret
                 
                 .MACRO storeload_column01_row0
                 	std  Z+ 0+12, row00
                 	std  Z+ 0+13, row01
                 	std  Z+ 0+14, row02
                 	std  Z+ 0+15, row03
                 	ldd  row00, Y+16+12
                 	ldd  row01, Y+16+13
                 	ldd  row02, Y+16+14
                 	ldd  row03, Y+16+15
                 .ENDMACRO
                 
                 .MACRO storeload_column01_row1
                 	std  Z+16+ 8, row10
                 	std  Z+16+ 9, row11
                 	std  Z+16+10, row12
                 	std  Z+16+11, row13
                 	ldd  row10, Y+16+ 8
                 	ldd  row11, Y+16+ 9
                 	ldd  row12, Y+16+10
                 	ldd  row13, Y+16+11
                 .ENDMACRO
                 
                 .MACRO storeload_column01_row2
                 	std  Z+32+4, row20
                 	std  Z+32+5, row21
                 	std  Z+32+6, row22
                 	std  Z+32+7, row23
                 	ldd  row20, Y+16+4
                 	ldd  row21, Y+16+5
                 	ldd  row22, Y+16+6
                 	ldd  row23, Y+16+7
                 .ENDMACRO
                 
                 .MACRO storeload_column01_row3
                 	std  Z+48+0, row30
                 	std  Z+48+1, row31
                 	std  Z+48+2, row32
                 	std  Z+48+3, row33
                 	ldd  row30, Y+16+0
                 	ldd  row31, Y+16+1
                 	ldd  row32, Y+16+2
                 	ldd  row33, Y+16+3
                 .ENDMACRO
                 
                 .MACRO storeload_column12_row0
                 	std  Z+16+12, row00
                 	std  Z+16+13, row01
                 	std  Z+16+14, row02
                 	std  Z+16+15, row03
                 	ldd  row00, Y+32+12
                 	ldd  row01, Y+32+13
                 	ldd  row02, Y+32+14
                 	ldd  row03, Y+32+15
                 .ENDMACRO
                 
                 .MACRO storeload_column12_row1
                 	std  Z+32+ 8, row10
                 	std  Z+32+ 9, row11
                 	std  Z+32+10, row12
                 	std  Z+32+11, row13
                 	ldd  row10, Y+32+ 8
                 	ldd  row11, Y+32+ 9
                 	ldd  row12, Y+32+10
                 	ldd  row13, Y+32+11
                 .ENDMACRO
                 
                 .MACRO storeload_column12_row2
                 	std  Z+48+4, row20
                 	std  Z+48+5, row21
                 	std  Z+48+6, row22
                 	std  Z+48+7, row23
                 	ldd  row20, Y+32+4
                 	ldd  row21, Y+32+5
                 	ldd  row22, Y+32+6
                 	ldd  row23, Y+32+7
                 .ENDMACRO
                 
                 .MACRO storeload_column12_row3
                 	std  Z+ 0+0, row30
                 	std  Z+ 0+1, row31
                 	std  Z+ 0+2, row32
                 	std  Z+ 0+3, row33
                 	ldd  row30, Y+32+0
                 	ldd  row31, Y+32+1
                 	ldd  row32, Y+32+2
                 	ldd  row33, Y+32+3
                 .ENDMACRO
                 
                 .MACRO storeload_column23_row0
                 	std  Z+32+12, row00
                 	std  Z+32+13, row01
                 	std  Z+32+14, row02
                 	std  Z+32+15, row03
                 	ldd  row00, Y+48+12
                 	ldd  row01, Y+48+13
                 	ldd  row02, Y+48+14
                 	ldd  row03, Y+48+15
                 .ENDMACRO
                 
                 .MACRO storeload_column23_row1
                 	std  Z+48+ 8, row10
                 	std  Z+48+ 9, row11
                 	std  Z+48+10, row12
                 	std  Z+48+11, row13
                 	ldd  row10, Y+48+ 8
                 	ldd  row11, Y+48+ 9
                 	ldd  row12, Y+48+10
                 	ldd  row13, Y+48+11
                 .ENDMACRO
                 
                 .MACRO storeload_column23_row2
                 	std  Z+ 0+ 4, row20
                 	std  Z+ 0+ 5, row21
                 	std  Z+ 0+ 6, row22
                 	std  Z+ 0+ 7, row23
                 	ldd  row20, Y+48+4
                 	ldd  row21, Y+48+5
                 	ldd  row22, Y+48+6
                 	ldd  row23, Y+48+7
                 .ENDMACRO
                 
                 .MACRO storeload_column23_row3
                 	std  Z+16+ 0, row30
                 	std  Z+16+ 1, row31
                 	std  Z+16+ 2, row32
                 	std  Z+16+ 3, row33
                 	ldd  row30, Y+48+0
                 	ldd  row31, Y+48+1
                 	ldd  row32, Y+48+2
                 	ldd  row33, Y+48+3
                 .ENDMACRO
                 
                 .MACRO store_column3_row0
                 	std  Z+48+12, row00
                 	std  Z+48+13, row01
                 	std  Z+48+14, row02
                 	std  Z+48+15, row03
                 .ENDMACRO
                 
                 ;.MACRO store_column3_row1
                 ;	std  Z+ 0+ 8, row10
                 ;	std  Z+ 0+ 9, row11
                 ;	std  Z+ 0+10, row12
                 ;	std  Z+ 0+11, row13
                 ;.ENDMACRO
                 
                 .MACRO store_column3_row2
                 	std  Z+16+ 4, row20
                 	std  Z+16+ 5, row21
                 	std  Z+16+ 6, row22
                 	std  Z+16+ 7, row23
                 .ENDMACRO
                 
                 .MACRO store_column3_row3
                 	std  Z+32+ 0, row30
                 	std  Z+32+ 1, row31
                 	std  Z+32+ 2, row32
                 	std  Z+32+ 3, row33
                 .ENDMACRO
                 
                 .MACRO forward_round
                 	rcall KeyXor_Sbox
                 	M0_XOR
                 	storeload_column01_row0
                 	storeload_column01_row1
                 	storeload_column01_row2
                 	storeload_column01_row3
                 
                 	rcall KeyXor_Sbox
                 	M1_XOR
                 	storeload_column12_row0
                 	storeload_column12_row1
                 	storeload_column12_row2
                 	storeload_column12_row3
                 
                 	rcall KeyXor_Sbox
                 	M1_XOR
                 	storeload_column23_row0
                 	storeload_column23_row1
                 	storeload_column23_row2
                 	storeload_column23_row3
                 
                 	rcall KeyXor_Sbox
                 	M0_XOR
                 	store_column3_row0
                 	;store_column3_row1
                 	store_column3_row2
                 	store_column3_row3
                 	inc rcnt
                 	load_column_forward
                 .ENDMACRO
                 
                 .MACRO middle_round
                 	rcall KeyXor_Sbox
                 	M0_XOR
                 	rcall iSbox_KeyXor
                 	store_column 0
                 
                 	load_column 1
                 	rcall KeyXor_Sbox
                 	M1_XOR
                 	rcall iSbox_KeyXor
                 	store_column 1
                 
                 	load_column 2
                 	rcall KeyXor_Sbox
                 	M1_XOR
                 	rcall iSbox_KeyXor
                 	store_column 2
                 
                 	load_column 3
                 	rcall KeyXor_Sbox
                 	M0_XOR
                 	rcall iSbox_KeyXor
                 	;store_column 3
                 	store_column_midpost
                 .ENDMACRO
                 
                 .MACRO istoreload_column01_row0
                 	std Z+ 0+12, row00
                 	std Z+ 0+13, row01
                 	std Z+ 0+14, row02
                 	std Z+ 0+15, row03
                 	ldd row00, Y+16+12
                 	ldd row01, Y+16+13
                 	ldd row02, Y+16+14
                 	ldd row03, Y+16+15
                 .ENDMACRO
                 
                 .MACRO istoreload_column01_row1
                 	std Z+ 0+8 , row10	
                 	std Z+ 0+9 , row11	
                 	std Z+ 0+10, row12	
                 	std Z+ 0+11, row13	
                 	ldd row10, Y+32+8 	
                 	ldd row11, Y+32+9 	
                 	ldd row12, Y+32+10	
                 	ldd row13, Y+32+11	
                 .ENDMACRO
                 
                 .MACRO istoreload_column01_row2
                 	std  Z+ 0+4, row20
                 	std  Z+ 0+5, row21
                 	std  Z+ 0+6, row22
                 	std  Z+ 0+7, row23
                 	ldd  row20, Y+48+4
                 	ldd  row21, Y+48+5
                 	ldd  row22, Y+48+6
                 	ldd  row23, Y+48+7
                 .ENDMACRO
                 
                 .MACRO istoreload_column01_row3
                 	std Z+ 0+0, row30
                 	std Z+ 0+1, row31
                 	std Z+ 0+2, row32
                 	std Z+ 0+3, row33
                 	ldd row30, Y+ 0+0
                 	ldd row31, Y+ 0+1
                 	ldd row32, Y+ 0+2
                 	ldd row33, Y+ 0+3
                 .ENDMACRO
                 
                 .MACRO istoreload_column12_row0
                 	std Z+16+12, row00
                 	std Z+16+13, row01
                 	std Z+16+14, row02
                 	std Z+16+15, row03
                 	ldd row00, Y+32+12
                 	ldd row01, Y+32+13
                 	ldd row02, Y+32+14
                 	ldd row03, Y+32+15
                 .ENDMACRO
                 
                 .MACRO istoreload_column12_row1
                 	std Z+16+8 , row10	
                 	std Z+16+9 , row11	
                 	std Z+16+10, row12	
                 	std Z+16+11, row13
                 	ldd row10, Y+48+8 	
                 	ldd row11, Y+48+9 	
                 	ldd row12, Y+48+10	
                 	ldd row13, Y+48+11	
                 .ENDMACRO
                 
                 .MACRO istoreload_column12_row2
                 	std  Z+16+4, row20
                 	std  Z+16+5, row21
                 	std  Z+16+6, row22
                 	std  Z+16+7, row23
                 	ldd  row20, Y+ 0+4
                 	ldd  row21, Y+ 0+5
                 	ldd  row22, Y+ 0+6
                 	ldd  row23, Y+ 0+7
                 .ENDMACRO
                 
                 .MACRO istoreload_column12_row3
                 	std Z+16+0, row30
                 	std Z+16+1, row31
                 	std Z+16+2, row32
                 	std Z+16+3, row33
                 	ldd row30, Y+16+0
                 	ldd row31, Y+16+1
                 	ldd row32, Y+16+2
                 	ldd row33, Y+16+3
                 .ENDMACRO
                 
                 .MACRO istoreload_column23_row0
                 	std Z+32+12, row00
                 	std Z+32+13, row01
                 	std Z+32+14, row02
                 	std Z+32+15, row03
                 	ldd row00, Y+48+12
                 	ldd row01, Y+48+13
                 	ldd row02, Y+48+14
                 	ldd row03, Y+48+15
                 .ENDMACRO
                 
                 .MACRO istoreload_column23_row1
                 	std Z+32+8 , row10	
                 	std Z+32+9 , row11	
                 	std Z+32+10, row12	
                 	std Z+32+11, row13
                 	ldd row10, Y+ 0+8 
                 	ldd row11, Y+ 0+9 
                 	ldd row12, Y+ 0+10
                 	ldd row13, Y+ 0+11
                 .ENDMACRO
                 
                 .MACRO istoreload_column23_row2
                 	std  Z+32+4, row20
                 	std  Z+32+5, row21
                 	std  Z+32+6, row22
                 	std  Z+32+7, row23
                 	ldd  row20, Y+16+4
                 	ldd  row21, Y+16+5
                 	ldd  row22, Y+16+6
                 	ldd  row23, Y+16+7
                 .ENDMACRO
                 
                 .MACRO istoreload_column23_row3
                 	std Z+32+0, row30
                 	std Z+32+1, row31
                 	std Z+32+2, row32
                 	std Z+32+3, row33
                 	ldd row30, Y+32+0
                 	ldd row31, Y+32+1
                 	ldd row32, Y+32+2
                 	ldd row33, Y+32+3
                 .ENDMACRO
                 
                 .MACRO istore_column3_row0
                 	std Z+48+12, row00
                 	std Z+48+13, row01
                 	std Z+48+14, row02
                 	std Z+48+15, row03
                 .ENDMACRO
                 
                 .MACRO istore_column3_row1
                 	std Z+48+8 , row10	
                 	std Z+48+9 , row11	
                 	std Z+48+10, row12	
                 	std Z+48+11, row13
                 .ENDMACRO
                 
                 .MACRO istore_column3_row2
                 	std Z+48+4, row20
                 	std Z+48+5, row21
                 	std Z+48+6, row22
                 	std Z+48+7, row23
                 .ENDMACRO
                 
                 ;.MACRO istore_column3_row3
                 ;	std Z+48+0, row30
                 ;	std Z+48+1, row31
                 ;	std Z+48+2, row32
                 ;	std Z+48+3, row33
                 ;.ENDMACRO
                 
                 .MACRO invert_round
                 	load_column_invert
                 
                 	M0_XOR
                 	rcall iSbox_KeyXor
                  	istoreload_column01_row0
                 	istoreload_column01_row1
                 	istoreload_column01_row2
                 	istoreload_column01_row3
                 
                 	M1_XOR
                 	rcall iSbox_KeyXor
                 	istoreload_column12_row0
                 	istoreload_column12_row1
                 	istoreload_column12_row2
                 	istoreload_column12_row3
                 
                 	M1_XOR
                 	rcall iSbox_KeyXor
                 	istoreload_column23_row0
                 	istoreload_column23_row1
                 	istoreload_column23_row2
                 	istoreload_column23_row3
                 
                 	M0_XOR
                 	rcall iSbox_KeyXor
                 	istore_column3_row0
                 	istore_column3_row1
                 	istore_column3_row2
                 	;istore_column3_row3
                 
                 	inc rcnt
                 .ENDMACRO
                 
                 ; ;******** R1
                 ; k1 + k0 + RC0
                 ; |
                 ; S
                 ; |
                 ; M
                 ; |
                 ; SR
                 ; 
                 ; ;******** R2
                 ; k1+RC1
                 ; |
                 ; S
                 ; |
                 ; M
                 ; |
                 ; SR
                 ; .
                 ; .
                 ; .
                 ; ;******** R5
                 ; k1+RC4
                 ; |
                 ; S
                 ; |
                 ; M
                 ; |
                 ; SR
                 ; 
                 ; ;******** Rmiddle
                 ; k1+RC5
                 ; |
                 ; S
                 ; |
                 ; M
                 ; |
                 ; iS
                 ; |
                 ; k1+RC6
                 ; 
                 ; 
                 ; ;******** iR1
                 ; iSR
                 ; |
                 ; M
                 ; |
                 ; iS
                 ; |
                 ; k1+RC7
                 ; 
                 ; 
                 ; ;******** iR2
                 ; iSR
                 ; |
                 ; M
                 ; |
                 ; iS
                 ; |
                 ; k1+RC8
                 ; 
                 ; ;******** iR3
                 ; iSR
                 ; |
                 ; M
                 ; |
                 ; iS
                 ; |
                 ; k1+RC9
                 ; 
                 ; ;******** iR4
                 ; iSR
                 ; |
                 ; M
                 ; |
                 ; iS
                 ; |
                 ; k1+RC10
                 ; 
                 ; ;******** iR5
                 ; iSR
                 ; |
                 ; M
                 ; |
                 ; iS
                 ; |
                 ; k1+RC11+k0'
                 
                 #ifdef ENCRYPT
                 encrypt:
000174 e085          ldi rrn, 5
000175 e0b0          ldi XH, high(SRAM_KTEXT1)
000176 eea8          ldi XL, low(SRAM_KTEXT1)
000177 e0d0      	ldi YH, high(SRAM_PTEXT)
000178 e6c0      	ldi YL, low(SRAM_PTEXT)
000179 e0f0      	ldi ZH, high(SRAM_PTEXT_SWAP)
00017a eae0      	ldi ZL, low(SRAM_PTEXT_SWAP)
00017b 2799      	clr rcnt
00017c 8038
00017d 8079
00017e 80ba
00017f 80fb
000180 802c
000181 806d
000182 80ae
000183 80ef
000184 8418
000185 8459
000186 849a
000187 84db
000188 840c
000189 844d
00018a 848e
00018b 84cf      	load_column_pre
                 forword_encrypt_start:
00018c df0d
00018d 0180
00018e 0191
00018f 2401
000190 2402
000191 2403
000192 2c10
000193 0110
000194 2603
000195 2612
000196 2621
000197 2630
000198 0182
000199 0193
00019a 2445
00019b 2446
00019c 2447
00019d 2c54
00019e 0132
00019f 2640
0001a0 2653
0001a1 2662
0001a2 2671
0001a3 0184
0001a4 0195
0001a5 2489
0001a6 248a
0001a7 248b
0001a8 2c98
0001a9 0154
0001aa 2681
0001ab 2690
0001ac 26a3
0001ad 26b2
0001ae 0186
0001af 0197
0001b0 24cd
0001b1 24ce
0001b2 24cf
0001b3 2cdc
0001b4 0176
0001b5 26c2
0001b6 26d1
0001b7 26e0
0001b8 26f3
0001b9 8604
0001ba 8645
0001bb 8686
0001bc 86c7
0001bd 8c0c
0001be 8c4d
0001bf 8c8e
0001c0 8ccf
0001c1 8e10
0001c2 8e51
0001c3 8e92
0001c4 8ed3
0001c5 8c18
0001c6 8c59
0001c7 8c9a
0001c8 8cdb
0001c9 a224
0001ca a265
0001cb a2a6
0001cc a2e7
0001cd 882c
0001ce 886d
0001cf 88ae
0001d0 88ef
0001d1 aa30
0001d2 aa71
0001d3 aab2
0001d4 aaf3
0001d5 8838
0001d6 8879
0001d7 88ba
0001d8 88fb
0001d9 dec0
0001da 0180
0001db 0191
0001dc 2401
0001dd 2402
0001de 2403
0001df 2c10
0001e0 0110
0001e1 2600
0001e2 2613
0001e3 2622
0001e4 2631
0001e5 0182
0001e6 0193
0001e7 2445
0001e8 2446
0001e9 2447
0001ea 2c54
0001eb 0132
0001ec 2641
0001ed 2650
0001ee 2663
0001ef 2672
0001f0 0184
0001f1 0195
0001f2 2489
0001f3 248a
0001f4 248b
0001f5 2c98
0001f6 0154
0001f7 2682
0001f8 2691
0001f9 26a0
0001fa 26b3
0001fb 0186
0001fc 0197
0001fd 24cd
0001fe 24ce
0001ff 24cf
000200 2cdc
000201 0176
000202 26c3
000203 26d2
000204 26e1
000205 26f0
000206 8e04
000207 8e45
000208 8e86
000209 8ec7
00020a a40c
00020b a44d
00020c a48e
00020d a4cf
00020e a610
00020f a651
000210 a692
000211 a6d3
000212 a418
000213 a459
000214 a49a
000215 a4db
000216 aa24
000217 aa65
000218 aaa6
000219 aae7
00021a a02c
00021b a06d
00021c a0ae
00021d a0ef
00021e 8230
00021f 8271
000220 82b2
000221 82f3
000222 a038
000223 a079
000224 a0ba
000225 a0fb
000226 de73
000227 0180
000228 0191
000229 2401
00022a 2402
00022b 2403
00022c 2c10
00022d 0110
00022e 2600
00022f 2613
000230 2622
000231 2631
000232 0182
000233 0193
000234 2445
000235 2446
000236 2447
000237 2c54
000238 0132
000239 2641
00023a 2650
00023b 2663
00023c 2672
00023d 0184
00023e 0195
00023f 2489
000240 248a
000241 248b
000242 2c98
000243 0154
000244 2682
000245 2691
000246 26a0
000247 26b3
000248 0186
000249 0197
00024a 24cd
00024b 24ce
00024c 24cf
00024d 2cdc
00024e 0176
00024f 26c3
000250 26d2
000251 26e1
000252 26f0
000253 a604
000254 a645
000255 a686
000256 a6c7
000257 ac0c
000258 ac4d
000259 ac8e
00025a accf
00025b ae10
00025c ae51
00025d ae92
00025e aed3
00025f ac18
000260 ac59
000261 ac9a
000262 acdb
000263 8224
000264 8265
000265 82a6
000266 82e7
000267 a82c
000268 a86d
000269 a8ae
00026a a8ef
00026b 8a30
00026c 8a71
00026d 8ab2
00026e 8af3
00026f a838
000270 a879
000271 a8ba
000272 a8fb
000273 de26
000274 0180
000275 0191
000276 2401
000277 2402
000278 2403
000279 2c10
00027a 0110
00027b 2603
00027c 2612
00027d 2621
00027e 2630
00027f 0182
000280 0193
000281 2445
000282 2446
000283 2447
000284 2c54
000285 0132
000286 2640
000287 2653
000288 2662
000289 2671
00028a 0184
00028b 0195
00028c 2489
00028d 248a
00028e 248b
00028f 2c98
000290 0154
000291 2681
000292 2690
000293 26a3
000294 26b2
000295 0186
000296 0197
000297 24cd
000298 24ce
000299 24cf
00029a 2cdc
00029b 0176
00029c 26c2
00029d 26d1
00029e 26e0
00029f 26f3
0002a0 ae04
0002a1 ae45
0002a2 ae86
0002a3 aec7
0002a4 8a24
0002a5 8a65
0002a6 8aa6
0002a7 8ae7
0002a8 a230
0002a9 a271
0002aa a2b2
0002ab a2f3
0002ac 9593
0002ad 8038
0002ae 8079
0002af 80ba
0002b0 80fb
0002b1 802c
0002b2 806d
0002b3 80ae
0002b4 80ef
0002b5 840c
0002b6 844d
0002b7 848e
0002b8 84cf          forward_round
0002b9 018e      	movw t0,  Y
0002ba 01ef      	movw  Y,  Z
0002bb 01f8      	movw  Z, t0
0002bc 1398      	cpse rcnt, rrn
0002bd cece      	rjmp forword_encrypt_start
                 middle_encrypt_start:
0002be dddb
0002bf 0180
0002c0 0191
0002c1 2401
0002c2 2402
0002c3 2403
0002c4 2c10
0002c5 0110
0002c6 2603
0002c7 2612
0002c8 2621
0002c9 2630
0002ca 0182
0002cb 0193
0002cc 2445
0002cd 2446
0002ce 2447
0002cf 2c54
0002d0 0132
0002d1 2640
0002d2 2653
0002d3 2662
0002d4 2671
0002d5 0184
0002d6 0195
0002d7 2489
0002d8 248a
0002d9 248b
0002da 2c98
0002db 0154
0002dc 2681
0002dd 2690
0002de 26a3
0002df 26b2
0002e0 0186
0002e1 0197
0002e2 24cd
0002e3 24ce
0002e4 24cf
0002e5 2cdc
0002e6 0176
0002e7 26c2
0002e8 26d1
0002e9 26e0
0002ea 26f3
0002eb de19
0002ec 86cf
0002ed 868e
0002ee 864d
0002ef 860c
0002f0 86db
0002f1 869a
0002f2 8659
0002f3 8618
0002f4 82ef
0002f5 82ae
0002f6 826d
0002f7 822c
0002f8 82fb
0002f9 82ba
0002fa 8279
0002fb 8238
0002fc 8039
0002fd 807a
0002fe 80bb
0002ff 80fc
000300 802d
000301 806e
000302 80af
000303 84e8
000304 8419
000305 845a
000306 849b
000307 84dc
000308 840d
000309 844e
00030a 848f
00030b 88c8
00030c dd8d
00030d 0180
00030e 0191
00030f 2401
000310 2402
000311 2403
000312 2c10
000313 0110
000314 2600
000315 2613
000316 2622
000317 2631
000318 0182
000319 0193
00031a 2445
00031b 2446
00031c 2447
00031d 2c54
00031e 0132
00031f 2641
000320 2650
000321 2663
000322 2672
000323 0184
000324 0195
000325 2489
000326 248a
000327 248b
000328 2c98
000329 0154
00032a 2682
00032b 2691
00032c 26a0
00032d 26b3
00032e 0186
00032f 0197
000330 24cd
000331 24ce
000332 24cf
000333 2cdc
000334 0176
000335 26c3
000336 26d2
000337 26e1
000338 26f0
000339 ddcb
00033a 8ac8
00033b 868f
00033c 864e
00033d 860d
00033e 86dc
00033f 869b
000340 865a
000341 8619
000342 86e8
000343 82af
000344 826e
000345 822d
000346 82fc
000347 82bb
000348 827a
000349 8239
00034a 803a
00034b 807b
00034c 80bc
00034d 80fd
00034e 802e
00034f 806f
000350 84a8
000351 84e9
000352 841a
000353 845b
000354 849c
000355 84dd
000356 840e
000357 844f
000358 8888
000359 88c9
00035a dd3f
00035b 0180
00035c 0191
00035d 2401
00035e 2402
00035f 2403
000360 2c10
000361 0110
000362 2600
000363 2613
000364 2622
000365 2631
000366 0182
000367 0193
000368 2445
000369 2446
00036a 2447
00036b 2c54
00036c 0132
00036d 2641
00036e 2650
00036f 2663
000370 2672
000371 0184
000372 0195
000373 2489
000374 248a
000375 248b
000376 2c98
000377 0154
000378 2682
000379 2691
00037a 26a0
00037b 26b3
00037c 0186
00037d 0197
00037e 24cd
00037f 24ce
000380 24cf
000381 2cdc
000382 0176
000383 26c3
000384 26d2
000385 26e1
000386 26f0
000387 dd7d
000388 8ac9
000389 8a88
00038a 864f
00038b 860e
00038c 86dd
00038d 869c
00038e 865b
00038f 861a
000390 86e9
000391 86a8
000392 826f
000393 822e
000394 82fd
000395 82bc
000396 827b
000397 823a
000398 803b
000399 807c
00039a 80bd
00039b 80fe
00039c 802f
00039d 8468
00039e 84a9
00039f 84ea
0003a0 841b
0003a1 845c
0003a2 849d
0003a3 84de
0003a4 840f
0003a5 8848
0003a6 8889
0003a7 88ca
0003a8 dcf1
0003a9 0180
0003aa 0191
0003ab 2401
0003ac 2402
0003ad 2403
0003ae 2c10
0003af 0110
0003b0 2603
0003b1 2612
0003b2 2621
0003b3 2630
0003b4 0182
0003b5 0193
0003b6 2445
0003b7 2446
0003b8 2447
0003b9 2c54
0003ba 0132
0003bb 2640
0003bc 2653
0003bd 2662
0003be 2671
0003bf 0184
0003c0 0195
0003c1 2489
0003c2 248a
0003c3 248b
0003c4 2c98
0003c5 0154
0003c6 2681
0003c7 2690
0003c8 26a3
0003c9 26b2
0003ca 0186
0003cb 0197
0003cc 24cd
0003cd 24ce
0003ce 24cf
0003cf 2cdc
0003d0 0176
0003d1 26c2
0003d2 26d1
0003d3 26e0
0003d4 26f3
0003d5 dd2f
0003d6 aecf
0003d7 ae8e
0003d8 ae4d
0003d9 ae0c
0003da aedb
0003db ae9a
0003dc ae59
0003dd ae18
0003de aaef
0003df aaae
0003e0 aa6d
0003e1 aa2c      	middle_round
0003e2 e085      	ldi rrn, 5
0003e3 2799      	clr rcnt
                 invert_encrypt_start:
0003e4 a02c
0003e5 a06d
0003e6 a0ae
0003e7 a0ef
0003e8 8c18
0003e9 8c59
0003ea 8c9a
0003eb 8cdb
0003ec 840c
0003ed 844d
0003ee 848e
0003ef 84cf
0003f0 0180
0003f1 0191
0003f2 2401
0003f3 2402
0003f4 2403
0003f5 2c10
0003f6 0110
0003f7 2603
0003f8 2612
0003f9 2621
0003fa 2630
0003fb 0182
0003fc 0193
0003fd 2445
0003fe 2446
0003ff 2447
000400 2c54
000401 0132
000402 2640
000403 2653
000404 2662
000405 2671
000406 0184
000407 0195
000408 2489
000409 248a
00040a 248b
00040b 2c98
00040c 0154
00040d 2681
00040e 2690
00040f 26a3
000410 26b2
000411 0186
000412 0197
000413 24cd
000414 24ce
000415 24cf
000416 2cdc
000417 0176
000418 26c2
000419 26d1
00041a 26e0
00041b 26f3
00041c dce8
00041d 8604
00041e 8645
00041f 8686
000420 86c7
000421 8c0c
000422 8c4d
000423 8c8e
000424 8ccf
000425 8610
000426 8651
000427 8692
000428 86d3
000429 a418
00042a a459
00042b a49a
00042c a4db
00042d 8224
00042e 8265
00042f 82a6
000430 82e7
000431 a82c
000432 a86d
000433 a8ae
000434 a8ef
000435 8230
000436 8271
000437 82b2
000438 82f3
000439 8038
00043a 8079
00043b 80ba
00043c 80fb
00043d 0180
00043e 0191
00043f 2401
000440 2402
000441 2403
000442 2c10
000443 0110
000444 2600
000445 2613
000446 2622
000447 2631
000448 0182
000449 0193
00044a 2445
00044b 2446
00044c 2447
00044d 2c54
00044e 0132
00044f 2641
000450 2650
000451 2663
000452 2672
000453 0184
000454 0195
000455 2489
000456 248a
000457 248b
000458 2c98
000459 0154
00045a 2682
00045b 2691
00045c 26a0
00045d 26b3
00045e 0186
00045f 0197
000460 24cd
000461 24ce
000462 24cf
000463 2cdc
000464 0176
000465 26c3
000466 26d2
000467 26e1
000468 26f0
000469 dc9b
00046a 8e04
00046b 8e45
00046c 8e86
00046d 8ec7
00046e a40c
00046f a44d
000470 a48e
000471 a4cf
000472 8e10
000473 8e51
000474 8e92
000475 8ed3
000476 ac18
000477 ac59
000478 ac9a
000479 acdb
00047a 8a24
00047b 8a65
00047c 8aa6
00047d 8ae7
00047e 802c
00047f 806d
000480 80ae
000481 80ef
000482 8a30
000483 8a71
000484 8ab2
000485 8af3
000486 8838
000487 8879
000488 88ba
000489 88fb
00048a 0180
00048b 0191
00048c 2401
00048d 2402
00048e 2403
00048f 2c10
000490 0110
000491 2600
000492 2613
000493 2622
000494 2631
000495 0182
000496 0193
000497 2445
000498 2446
000499 2447
00049a 2c54
00049b 0132
00049c 2641
00049d 2650
00049e 2663
00049f 2672
0004a0 0184
0004a1 0195
0004a2 2489
0004a3 248a
0004a4 248b
0004a5 2c98
0004a6 0154
0004a7 2682
0004a8 2691
0004a9 26a0
0004aa 26b3
0004ab 0186
0004ac 0197
0004ad 24cd
0004ae 24ce
0004af 24cf
0004b0 2cdc
0004b1 0176
0004b2 26c3
0004b3 26d2
0004b4 26e1
0004b5 26f0
0004b6 dc4e
0004b7 a604
0004b8 a645
0004b9 a686
0004ba a6c7
0004bb ac0c
0004bc ac4d
0004bd ac8e
0004be accf
0004bf a610
0004c0 a651
0004c1 a692
0004c2 a6d3
0004c3 8418
0004c4 8459
0004c5 849a
0004c6 84db
0004c7 a224
0004c8 a265
0004c9 a2a6
0004ca a2e7
0004cb 882c
0004cc 886d
0004cd 88ae
0004ce 88ef
0004cf a230
0004d0 a271
0004d1 a2b2
0004d2 a2f3
0004d3 a038
0004d4 a079
0004d5 a0ba
0004d6 a0fb
0004d7 0180
0004d8 0191
0004d9 2401
0004da 2402
0004db 2403
0004dc 2c10
0004dd 0110
0004de 2603
0004df 2612
0004e0 2621
0004e1 2630
0004e2 0182
0004e3 0193
0004e4 2445
0004e5 2446
0004e6 2447
0004e7 2c54
0004e8 0132
0004e9 2640
0004ea 2653
0004eb 2662
0004ec 2671
0004ed 0184
0004ee 0195
0004ef 2489
0004f0 248a
0004f1 248b
0004f2 2c98
0004f3 0154
0004f4 2681
0004f5 2690
0004f6 26a3
0004f7 26b2
0004f8 0186
0004f9 0197
0004fa 24cd
0004fb 24ce
0004fc 24cf
0004fd 2cdc
0004fe 0176
0004ff 26c2
000500 26d1
000501 26e0
000502 26f3
000503 dc01
000504 ae04
000505 ae45
000506 ae86
000507 aec7
000508 ae10
000509 ae51
00050a ae92
00050b aed3
00050c aa24
00050d aa65
00050e aaa6
00050f aae7
000510 9593          invert_round
000511 018e      	movw t0,  Y
000512 01ef      	movw  Y,  Z
000513 01f8      	movw  Z, t0
000514 1398      	cpse rcnt, rrn
000515 cece      	rjmp invert_encrypt_start
000516 aa30
000517 aa71
000518 aab2
000519 aaf3      	store_column_post
00051a 9508      ret
                 #endif
                 
                 RC:
00051b 0301
00051c 0901
00051d 0a08
00051e 0e02
00051f 0300
000520 0007
000521 0307
000522 0404      .db $01, $03, $01, $09, $08, $0A, $02, $0E, $00, $03, $07, $00, $07, $03, $04, $04
000523 040a
000524 0900
000525 0803
000526 0202
000527 0902
000528 0f09
000529 0103
00052a 000d      .db $0A, $04, $00, $09, $03, $08, $02, $02, $02, $09, $09, $0F, $03, $01, $0D, $00
00052b 0800
00052c 0e02
00052d 0a0f
00052e 0809
00052f 0c0e
000530 0e04
000531 0c06
000532 0908      .db $00, $08, $02, $0E, $0F, $0A, $09, $08, $0E, $0C, $04, $0E, $06, $0C, $08, $09
000533 0504
000534 0802
000535 0102
000536 060e
000537 0803
000538 000d
000539 0301
00053a 0707      .db $04, $05, $02, $08, $02, $01, $0E, $06, $03, $08, $0D, $00, $01, $03, $07, $07
00053b 0e0b
00053c 0405
00053d 0606
00053e 0f0c
00053f 0403
000540 090e
000541 0c00
000542 0c06      .db $0B, $0E, $05, $04, $06, $06, $0C, $0F, $03, $04, $0E, $09, $00, $0C, $06, $0C
000543 0e07
000544 080f
000545 0f04
000546 0807
000547 0d0f
000548 0509
000549 0c05
00054a 010b      .db $07, $0E, $0F, $08, $04, $0F, $07, $08, $0F, $0D, $09, $05, $05, $0C, $0B, $01
00054b 0508
00054c 0408
00054d 0800
00054e 0105
00054f 010f
000550 0c0a
000551 0304
000552 0a0a      .db $08, $05, $08, $04, $00, $08, $05, $01, $0F, $01, $0A, $0C, $04, $03, $0A, $0A
000553 080c
000554 0208
000555 030d
000556 0f02
000557 0502
000558 0203
000559 0c03
00055a 0405      .db $0C, $08, $08, $02, $0D, $03, $02, $0F, $02, $05, $03, $02, $03, $0C, $05, $04
00055b 0406
00055c 050a
00055d 0101
00055e 0509
00055f 000e
000560 030e
000561 0106
000562 0d00      .db $06, $04, $0A, $05, $01, $01, $09, $05, $0E, $00, $0E, $03, $06, $01, $00, $0D
000563 030d
000564 050b
000565 030a
000566 0909
000567 0a0c
000568 0c00
000569 0302
00056a 0909      .db $0D, $03, $0B, $05, $0A, $03, $09, $09, $0C, $0A, $00, $0C, $02, $03, $09, $09
00056b 000c
00056c 0c0a
00056d 0902
00056e 070b
00056f 090c
000570 0c07
000571 0005
000572 0d0d      .db $0C, $00, $0A, $0C, $02, $09, $0B, $07, $0C, $09, $07, $0C, $05, $00, $0D, $0D
                 #elif desxl
                 #elif hight
                 #elif idea
                 #elif kasumi
                 #elif katan
                 #elif klein
                 #elif mcrypton
                 #elif noekeon
                 #elif present
                 #elif sea
                 #elif tea
                 #else
                 #endif
                 
                 
                 .CSEG
                 
                 ;******************** FUNCTIONS ***********************************
                 ; This function copy bytes from ROM location pointed by ZH:ZL to
                 ; SRAM location pointed by XH:XL
                 ;	Z must contain source address
                 ;	X must contain destination address
                 ;	r18 must contain the number of byte to copy
                 ;	r16 is used for internal computation
                 copy_word:
000573 9105      	lpm		r16, Z+
000574 930d      	st 		X+,r16
000575 952a      	dec		r18
000576 f7e1      	brbc	1, copy_word
000577 9508      	ret
                 ;*******************************************************************
                 
                 ;******************** Q ELEC FUNCTIONS (START) *********************
                 ; wait : ret + 0xFF * (5*nop + 1*dec + 1*brbc)
                 wait:
000578 ef0f      	ldi		r16, 0xFF	;r16=FF
                 w_loop:
000579 0000      	nop
00057a 0000      	nop
00057b 0000      	nop
00057c 0000      	nop
00057d 0000      	nop
00057e 950a      	dec		r16			; r16=r16-1
00057f f7c9      	brbc	1,w_loop	; branch sur loop si Z=0, cs si r16 != 0
000580 9508      	ret					; return from subroutine
                 
                 
                 
                 ; wait2 : r17 * wait (to be set inside) + some instructions
                 wait2:
000581 ef1f      	ldi		r17, 0xFF	;
                 w_loop2:
000582 dff5      	rcall	wait
000583 951a      	dec		r17			; r17=r17-1
000584 f7e9      	brbc	1,w_loop2	; branch sur loop2 si Z=0, cs si r17 != 0
000585 9508      	ret					; return from subroutine
                 ;******************** Q ELEC FUNCTIONS (END) *********************
                 
                 
                 ;******************** MAIN (START) *******************************
                 main:
                 	;LOAD THE PTEXT FROM THE DB BELOW TO SRAM
000586 e0fb      	ldi		ZH, high(text<<1)
000587 ebe2      	ldi		ZL, low(text<<1)
000588 e0b0      	ldi 	XH, high(SRAM_PTEXT)
000589 e6a0      	ldi 	XL, low(SRAM_PTEXT)
00058a e420      	ldi		r18, PTEXT_NUM_BYTE
00058b dfe7      	rcall	copy_word
                 
                 main_loop:
                 
                 	;LOAD THE KEY FROM THE DB BELOW TO SRAM
00058c e0fb      	ldi		ZH, high(key<<1)
00058d ebea      	ldi		ZL, low(key<<1)
00058e e0b0      	ldi 	XH, high(SRAM_KTEXT0)
00058f eea0      	ldi 	XL, low(SRAM_KTEXT0)
000590 e028      	ldi		r18, KEY0_NUM_BYTE
000591 dfe1      	rcall	copy_word
000592 e0fb      	ldi		ZH, high(key<<1)
000593 ebea      	ldi		ZL, low(key<<1)
000594 9638      	adiw	Z, 8
000595 e0b0      	ldi 	XH, high(SRAM_KTEXT1)
000596 eea8      	ldi 	XL, low(SRAM_KTEXT1)
000597 e028      	ldi		r18, KEY0_NUM_BYTE
000598 dfda      	rcall	copy_word
                 
                 	; Initialize XH:XL with start address of ptext/key memory location
000599 e0b0      	ldi 	XH, high(SRAM_PTEXT)
00059a e6a0      	ldi 	XL, low(SRAM_PTEXT)
00059b 9ac1      	sbi		PORTB,1		; portA,0 = high (trigger on port A0)
00059c 0000      	nop
00059d 0000      	nop
00059e 0000      	nop
00059f 0000      	nop
0005a0 98c1       	cbi		PORTB,1		; portA,0 = low
0005a1 0000      	nop
0005a2 0000      	nop
0005a3 0000      	nop
                 
                 #ifdef KEYSCHEDULE
0005a4 da84      	rcall keySchedule
                 #endif
0005a5 0000      	nop
0005a6 0000      	nop
0005a7 0000      	nop
0005a8 0000      	nop
0005a9 0000      	nop
0005aa 0000      	nop
0005ab 0000      	nop
0005ac 0000      	nop
0005ad 0000      	nop
0005ae 0000      	nop
                 
                 
                 #ifdef ENCRYPT	
0005af dbc4      	rcall	encrypt		; encryption routine
                 #endif
                 	
                 	;LOAD THE KEY FROM THE DB BELOW TO SRAM
0005b0 e0fb      	ldi		ZH, high(key<<1)
0005b1 ebea      	ldi		ZL, low(key<<1)
0005b2 e0b0      	ldi 	XH, high(SRAM_KTEXT0)
0005b3 eea0      	ldi 	XL, low(SRAM_KTEXT0)
0005b4 e028      	ldi		r18, KEY0_NUM_BYTE
0005b5 dfbd      	rcall	copy_word
0005b6 e0fb      	ldi		ZH, high(key<<1)
0005b7 ebea      	ldi		ZL, low(key<<1)
0005b8 9638      	adiw	Z, 8
0005b9 e0b0      	ldi 	XH, high(SRAM_KTEXT1)
0005ba eea8      	ldi 	XL, low(SRAM_KTEXT1)
0005bb e028      	ldi		r18, KEY0_NUM_BYTE
0005bc dfb6      	rcall	copy_word
                 	
                 	
0005bd 0000      	nop
0005be 0000      	nop
0005bf 0000      	nop
0005c0 0000      	nop
0005c1 0000      	nop
0005c2 0000      	nop
0005c3 0000      	nop
0005c4 0000      	nop
0005c5 0000      	nop
0005c6 0000      	nop
                 
                 #ifdef DECRYPT
                 #endif
                 
0005c7 0000      	nop
0005c8 0000      	nop
0005c9 0000      	nop
0005ca 0000      	nop
0005cb 0000      	nop
0005cc 0000      	nop
0005cd 0000      	nop
0005ce 0000      	nop
0005cf 0000      	nop
0005d0 0000      	nop
                 
0005d1 9ac0      	sbi		PORTB,0		; portA,0 = high (trigger on port A0)
0005d2 0000      	nop
0005d3 0000      	nop
0005d4 0000      	nop
0005d5 0000      	nop
0005d6 98c0       	cbi		PORTB,0		; portA,0 = low
                 
                 
                 	;make a pause
0005d7 dfa9      	rcall	wait2
0005d8 dfa8      	rcall	wait2
                 ;	rcall	wait2
                 ;	rcall	wait2
                 ;	rcall	wait2
                 
                 	;encrypt again, with the cipher as the new plain
                 	;rjmp	main_loop
                 
                 	;to decrypt:
                 	;ldi 	XH, high(SRAM_DATA)
                 	;ldi 	XL, low(SRAM_DATA)
                 	;rcall decrypt		; call decryption routine
                 
                 	;rjmp	main	;let's have fun one more time
                 
                 ;text:
                 ;.db $32,$43,$f6,$a8,$88,$5a,$30,$8d,$31,$31,$98,$a2,$e0,$37,$07,$34
                 ;key:
                 ;.db $2b,$7e,$15,$16,$28,$ae,$d2,$a6,$ab,$f7,$15,$88,$09,$cf,$4f,$3c,$51,$a4,$6b,$8d,$31,$1f,$f4,$37
                 
                 ;text:
                 ;.db $ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff
                 ;key:
                 ;.db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00
                 
                 text:
                 ;.db $ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff
0005d9 0000
0005da 0000
0005db 0000
0005dc 0000      .db $00,$00,$00,$00,$00,$00,$00,$00
                 key:
0005dd 0000
0005de 0000
0005df 0000
0005e0 0000
0005e1 0000
0005e2 0000
0005e3 0000
0005e4 0000      .db $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
                 ;key:
                 ;.db $FE, $DC, $BA, $98, $76, $54, $32, $10, $83, $77, $AB, $69, $5D, $EE, $FC, $01
                 
                 ;text:
                 ;.db $7f,$f5,$fc,$04,$a5,$bc,$9e,$0a
                 ;key:
                 ;.db $ea,$85,$be,$fc,$86,$c6,$f1,$47,$c7,$ff,$7d,$7b,$88,$20,$83,$02
                 ;
                 ;b4db77b7e2560859
                 ;.db $ff,$ff,$ff,$ff,$ff,$ff,$ff,$ff
                 ;ce 4d 0d b1 21 01 fb f7 0f 40 10 00
                 ;text:
                 ;.db $59,$08,$56,$e2,$b7,$77,$db,$b4
                 ;key:
                 ;.db $ce,$4d,$1d,$1b,$12,$fb,$f7,$0f,$04,$01
                 
                 
                 .DSEG
                 ;.ORG 0x60
000060             SRAM_PTEXT: .BYTE PTEXT_NUM_BYTE
0000a0             SRAM_PTEXT_SWAP: .BYTE PTEXT_NUM_BYTE_SWAP
0000e0             SRAM_KTEXT0: .BYTE KEY0_NUM_BYTE
0000e8             SRAM_KTEXT1: .BYTE KEY1_NUM_BYTE
                 
                 
                 ;******************** MAIN (END) *********************************
                 
                 


RESOURCE USE INFORMATION
------------------------

Notice:
The register and instruction counts are symbol table hit counts,
and hence implicitly used resources are not counted, eg, the
'lpm' instruction without operands implicitly uses r0 and z,
none of which are counted.

x,y,z are separate entities in the symbol table and are
counted separately from r26..r31 here.

.dseg memory usage only counts static data declared with .byte

"ATtiny45" register use summary:
r0 : 187 r1 :  70 r2 :  87 r3 :  58 r4 : 122 r5 :  69 r6 :  86 r7 :  57 
r8 : 119 r9 :  66 r10:  83 r11:  54 r12: 124 r13:  70 r14:  88 r15:  58 
r16: 207 r17:  99 r18: 137 r19:  75 r20:  17 r21:  13 r22:   5 r23:   7 
r24:   4 r25:   6 r26:   8 r27:   8 r28:   2 r29:   2 r30:   8 r31:  12 
x  :  13 y  : 296 z  : 155 
Registers used: 35 out of 35 (100.0%)

"ATtiny45" instruction use summary:
.lds  :   0 .sts  :   0 adc   :   0 add   :   0 adiw  :   2 and   :  24 
andi  :   0 asr   :   0 bclr  :   0 bld   :   2 brbc  :   3 brbs  :   0 
brcc  :   0 brcs  :   0 break :   0 breq  :   0 brge  :   0 brhc  :   0 
brhs  :   0 brid  :   0 brie  :   0 brlo  :   0 brlt  :   0 brmi  :   0 
brne  :   0 brpl  :   0 brsh  :   0 brtc  :   0 brts  :   0 brvc  :   0 
brvs  :   0 bset  :   0 bst   :   2 cbi   :   2 cbr   :   0 clc   :   0 
clh   :   0 cli   :   1 cln   :   0 clr   :   2 cls   :   0 clt   :   0 
clv   :   0 clz   :   0 com   :  40 cp    :   0 cpc   :   0 cpi   :   0 
cpse  :   2 dec   :   3 eor   : 426 icall :   0 ijmp  :   0 in    :   0 
inc   :   2 ld    :  52 ldd   : 184 ldi   :  48 lds   :   0 lpm   :   9 
lsl   :   0 lsr   :   0 mov   :  48 movw  : 170 neg   :   0 nop   :  46 
or    :  40 ori   :   0 out   :   3 pop   :   0 push  :   0 rcall :  36 
ret   :   8 reti  :   0 rjmp  :   3 rol   :   0 ror   :   8 sbc   :   0 
sbci  :   0 sbi   :   2 sbic  :   0 sbis  :   0 sbiw  :   0 sbr   :   0 
sbrc  :  32 sbrs  :   0 sec   :   0 seh   :   0 sei   :   0 sen   :   0 
ser   :   0 ses   :   0 set   :   0 sev   :   0 sez   :   0 sleep :   0 
spm   :   0 st    :  25 std   : 184 sts   :   0 sub   :   0 subi  :   0 
swap  :   0 tst   :   0 wdr   :   0 
Instructions used: 30 out of 105 (28.6%)

"ATtiny45" memory use summary [bytes]:
Segment   Begin    End      Code   Data   Used    Size   Use%
---------------------------------------------------------------
[.cseg] 0x000000 0x000bca   2818    200   3018    4096  73.7%
[.dseg] 0x000060 0x000148      0    232    232     256  90.6%
[.eseg] 0x000000 0x000000      0      0      0     256   0.0%

Assembly complete, 0 errors, 26 warnings
